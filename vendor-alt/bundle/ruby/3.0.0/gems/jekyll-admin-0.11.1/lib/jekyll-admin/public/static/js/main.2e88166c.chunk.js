(this["webpackJsonpjekyll-admin"]=this["webpackJsonpjekyll-admin"]||[]).push([[0],{22:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return addFieldToMetadata})),__webpack_require__.d(__webpack_exports__,"f",(function(){return removeFieldFromMetadata})),__webpack_require__.d(__webpack_exports__,"g",(function(){return updateMetadataFieldKey})),__webpack_require__.d(__webpack_exports__,"h",(function(){return updateMetadataFieldValue})),__webpack_require__.d(__webpack_exports__,"c",(function(){return convertMetadataField})),__webpack_require__.d(__webpack_exports__,"e",(function(){return moveMetadataArrayItem})),__webpack_require__.d(__webpack_exports__,"d",(function(){return injectDefaultFields})),__webpack_require__.d(__webpack_exports__,"b",(function(){return computeFieldType}));var _home_runner_work_jekyll_admin_jekyll_admin_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(38),underscore__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9),underscore__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_1__),lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(54),lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_2__),addFieldToMetadata=function addFieldToMetadata(state,namePrefix){var tmpState=lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_2___default()(state),field=eval("tmpState.".concat(namePrefix));return void 0===field||(underscore__WEBPACK_IMPORTED_MODULE_1___default.a.isArray(field)?field.push(""):field["New field ".concat(state.new_field_count)]=""),tmpState.metadata},removeFieldFromMetadata=function removeFieldFromMetadata(state,namePrefix,key){var tmpState=lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_2___default()(state),field=eval("tmpState.".concat(namePrefix));if(void 0===field)return tmpState.metadata;if(underscore__WEBPACK_IMPORTED_MODULE_1___default.a.isArray(field)){if(key>=field.length)return tmpState.metadata;field.splice(key,1)}else{if(!underscore__WEBPACK_IMPORTED_MODULE_1___default.a.has(field,key))return tmpState.metadata;delete field[key]}return tmpState.metadata},updateMetadataFieldKey=function updateMetadataFieldKey(state,namePrefix,fieldKey,newKey){var tmpState=lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_2___default()(state),field=eval("tmpState.".concat(namePrefix));return void 0===field||underscore__WEBPACK_IMPORTED_MODULE_1___default.a.has(field,newKey)||(field=Object.keys(field).reduce((function(e,t){return t===fieldKey?e[newKey]=field[t]:e[t]=field[t],e}),{}),eval("tmpState.".concat(namePrefix," = field"))),tmpState.metadata},updateMetadataFieldValue=function updateMetadataFieldValue(state,nameAttr,value){var tmpState=lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_2___default()(state);return eval("tmpState.".concat(nameAttr," = value")),tmpState.metadata},convertMetadataField=function convertMetadataField(state,nameAttr,convertType){var tmpState=lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_2___default()(state),field=eval("tmpState.".concat(nameAttr));if(void 0===field)return tmpState.metadata;if("array"===convertType)field=[""];else if("object"===convertType){var key="New field ".concat(state.new_field_count);field=Object(_home_runner_work_jekyll_admin_jekyll_admin_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},key,"")}else field="";return eval("tmpState.".concat(nameAttr," = field")),tmpState.metadata},moveMetadataArrayItem=function moveMetadataArrayItem(state,namePrefix,srcInd,targetInd){var tmpState=lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_2___default()(state),arr=eval("tmpState.".concat(namePrefix));return underscore__WEBPACK_IMPORTED_MODULE_1___default.a.isArray(arr)?(arr.splice(targetInd,0,arr.splice(srcInd,1)[0]),tmpState.metadata):tmpState.metadata},injectDefaultFields=function(e,t,a){var n,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};try{n=e.content.defaults}catch(c){return{}}var i={};return underscore__WEBPACK_IMPORTED_MODULE_1___default.a.each(n,(function(e){var n=e.scope;n.type&&n.type!==a||n.path&&n.path!==t||underscore__WEBPACK_IMPORTED_MODULE_1___default.a.extend(i,e.values)})),underscore__WEBPACK_IMPORTED_MODULE_1___default.a.extend(i,r)},computeFieldType=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a="simple",n=["tags","categories"];return n.includes(t)&&underscore__WEBPACK_IMPORTED_MODULE_1___default.a.isArray(e)||(underscore__WEBPACK_IMPORTED_MODULE_1___default.a.isObject(e)&&(a="object"),underscore__WEBPACK_IMPORTED_MODULE_1___default.a.isArray(e)&&(a="array")),a}},294:function(e,t,a){e.exports=a(753)},666:function(e,t){},748:function(e,t){e.exports="data:image/png;base64,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"},752:function(e,t,a){},753:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"getDeleteMessage",(function(){return U})),a.d(n,"getLeaveMessage",(function(){return x})),a.d(n,"getNotFoundMessage",(function(){return B})),a.d(n,"getOverrideMessage",(function(){return H})),a.d(n,"getParserErrorMessage",(function(){return V})),a.d(n,"getSuccessMessage",(function(){return K})),a.d(n,"getErrorMessage",(function(){return G})),a.d(n,"getUploadSuccessMessage",(function(){return Q})),a.d(n,"getUploadErrorMessage",(function(){return W})),a.d(n,"getFetchErrorMessage",(function(){return Y})),a.d(n,"getUpdateErrorMessage",(function(){return q})),a.d(n,"getDeleteErrorMessage",(function(){return z})),a.d(n,"getPublishDraftMessage",(function(){return Z})),a.d(n,"getTitleRequiredMessage",(function(){return J})),a.d(n,"getFilenameRequiredMessage",(function(){return X})),a.d(n,"getContentRequiredMessage",(function(){return $})),a.d(n,"getFilenameNotValidMessage",(function(){return ee})),a.d(n,"sidebar",(function(){return te})),a.d(n,"labels",(function(){return ae}));var r=a(0),i=a.n(r),c=a(114),l=a(21),o=a(12),s=a(2),u=a(4),d=a(8),p=a(6),f=a(3),m=a(5),h=a(11),g=a(25),E=a(15),v=a.n(E),y=a(1),b="/_api",C=function(){return"".concat(b,"/configuration")},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(b,"/pages/").concat(e)},O=function(e,t){return e?"".concat(b,"/pages/").concat(e,"/").concat(t):"".concat(b,"/pages/").concat(t)},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(b,"/drafts/").concat(e)},F=function(e,t){return e?"".concat(b,"/drafts/").concat(e,"/").concat(t):"".concat(b,"/drafts/").concat(t)},T=function(e,t){return t?"".concat(b,"/collections/").concat(e,"/entries/").concat(t):"".concat(b,"/collections/").concat(e,"/entries")},j=function(e,t,a){return t?"".concat(b,"/collections/").concat(e,"/").concat(t,"/").concat(a):"".concat(b,"/collections/").concat(e,"/").concat(a)},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(b,"/data/").concat(e)},D=function(e,t){return e?"".concat(b,"/data/").concat(e,"/").concat(t):"".concat(b,"/data/").concat(t)},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(b,"/static_files/").concat(e)},w=function(e,t){return e?"".concat(b,"/static_files/").concat(e,"/").concat(t):"".concat(b,"/static_files/").concat(t)},L=a(38),I=a(118),N=a.n(I),R=function(e,t,a){return{type:"ADD_NOTIFICATION",notification:{title:e,message:t,level:a}}};var P=a(292),M=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this))).name="BadInputError",a.message=e||"Bad input",a.stack=(new Error).stack,a}return Object(m.a)(t,e),t}(Object(P.a)(Error)),U=function(e){return'Are you sure that you want to delete "'.concat(e,'" ?')},x=function(){return"You have unsaved changes on this page. Are you sure you want to leave?"},B=function(e){return"No ".concat(e," found.")},H=function(e){return"".concat(e," will be overwritten. Continue anyway?")},V=function(){return"Parse Error"},K=function(){return"Success"},G=function(){return"Error"},Q=function(e){return"".concat(e," uploaded successfully")},W=function(){return"Error occurred uploading the file."},Y=function(e){return"Could not fetch the ".concat(e)},q=function(e){return"Could not update the ".concat(e)},z=function(e){return"Could not delete the ".concat(e)},Z=function(e,t){return"'".concat(e,"' will be converted to '").concat(t,"'")},J=function(){return"The title is required."},X=function(){return"The filename is required."},$=function(){return"The content is required."},ee=function(){return"The filename is not valid."},te={pages:"Pages",posts:"Posts",drafts:"Drafts",datafiles:"Data Files",collections:"Collections",staticfiles:"Static Files",configuration:"Configuration"},ae={save:{label:"Save",triggeredLabel:"Saved"},create:{label:"Create",triggeredLabel:"Created"},delete:{label:"Delete"},publish:{label:"Publish"},view:{label:"View"},upload:{label:"Upload files"},viewToggle:{label:"Switch View to GUI Editor",triggeredLabel:"Switch View to Raw Editor"}},ne=n,re=ne.getErrorMessage,ie=ne.getFetchErrorMessage,ce=ne.getUpdateErrorMessage,le=ne.getDeleteErrorMessage,oe=function(e,t,a,n){return N()(e,{credentials:"same-origin"}).then((function(e){return e.json()})).then((function(e){return n(Object(L.a)({type:t.type},t.name,e))})).catch((function(e){n(Object(L.a)({type:a.type},a.name,e)),n(R(re(),ie(t.name),"error"))}))},se=function(e,t,a,n,r){return N()(e,{method:"PUT",credentials:"same-origin",body:t}).then((function(e){return e.json()})).then((function(e){if(e.error_message)throw new M(e.error_message);r(Object(L.a)({type:a.type},a.name,e))})).catch((function(e){r(Object(L.a)({type:n.type},n.name,e));var t="BadInputError"===e.name?e.message:ce(a.name);r(R(re(),t,"error"))}))},ue=function(e,t,a,n){return N()(e,{method:"DELETE",credentials:"same-origin"}).then((function(e){return n({type:t.type,id:t.id})})).catch((function(e){n(Object(L.a)({type:a.type},a.name,e)),n(R(re(),le(t.name),"error"))}))},de=a(9),pe=a.n(de),fe=ne.getTitleRequiredMessage,me=ne.getFilenameNotValidMessage,he=/^(?:.+\/)*(\d{4}-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1]))-(.*)(\.[^.]+)$/,ge=/^(.*)(\.[^.]+)$/,Ee=function(e){return ve(e,{path:"required|filename"},{"path.required":fe(),"path.filename":me()})},ve=function(e,t,a){var n=[];return pe.a.each(t,(function(t,r,i){var c=t.split("|");pe.a.each(c,(function(t){(function(e,t){switch(t){case"required":return!!e;case"date":return he.test(e);case"filename":return ge.test(e);default:return!1}})(e[r],t)||n.push(a["".concat(r,".").concat(t)])}))})),n},ye=function(e,t){return t?e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())})):e},be=function(e,t){return e.filter((function(e){return e.relative_path!==t}))},Ce=function(e){return{type:"SEARCH_CONTENT",input:e}},_e=function(){return{type:"CLEAR_ERRORS"}},Oe=function(e){return{type:"VALIDATION_ERROR",errors:e}};var ke=a(173),Fe=a.n(ke),Te=function(e){return pe.a.isEmpty(e)?"":Fe.a.safeDump(e,{indent:2})},je=function(e){return e?e.charAt(0).toUpperCase()+e.substring(1).toLowerCase():""},Ae=function(e){return e?e.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})):""},De=function(e){if(!e)return"";var t="\xe0\xe1\xe4\xe2\xe8\xe9\xeb\xea\xec\xed\xef\xee\u0131\xf2\xf3\xf6\xf4\xf9\xfa\xfc\xfb\xf1\xe7\u015f\xdf\xff\u0153\xe6\u0155\u015b\u0144\u1e55\u1e83\u01f5\u011f\u01f9\u1e3f\u01d8\u1e8d\u017a\u1e27\xb7/_,:;",a=new RegExp(t.split("").join("|"),"g");return e.toString().toLowerCase().replace(/\s+/g,"-").replace(a,(function(e){return"aaaaeeeeiiiiioooouuuuncssyoarsnpwggnmuxzh------".charAt(t.indexOf(e))})).replace(/&/g,"-").replace(/[^\w-]+/g,"").replace(/-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},Se=function(e){return e?e.substring(e.lastIndexOf("/")+1):""},we=function(e){if(!e)return"";var t=Se(e),a=t.lastIndexOf(".");return a>0?t.substring(a+1):""},Le=function(e){e&&e.preventDefault&&e.preventDefault()},Ie=function e(t){return pe.a.isObject(t)?pe.a.keys(t).reduce((function(a,n){if("string"===typeof t[n])try{a[n.trim()]=JSON.parse(t[n].trim())}catch(r){a[n.trim()]=t[n].trim()}else a[n.trim()]=e(t[n]);return a}),Array.isArray(t)?[]:{}):t},Ne=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!e)return"";var n=Ae(e.toString());return[a,t,n].filter(Boolean).join(" | ")},Re=function(e,t){return e?"".concat(e,"/").concat(t):"".concat(t)},Pe=function(e){return pe.a.omit(e,(function(e,t,a){return"raw_content"===t||"path"===t||""===e}))},Me=function(e){return JSON.stringify(Ie(e))},Ue=ne.getContentRequiredMessage,xe=function(){return function(e){return e({type:"FETCH_CONFIG_REQUEST"}),oe("".concat(b,"/configuration"),{type:"FETCH_CONFIG_SUCCESS",name:"config"},{type:"FETCH_CONFIG_FAILURE",name:"error"},e)}},Be=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"editor";return function(a,n){var r;"gui"===t?(e=n().metadata.metadata,r={raw_content:Te(e)}):r={raw_content:e};var i=He(e);return i.length?a(Oe(i)):(a({type:"CLEAR_ERRORS"}),se(C(),JSON.stringify(r),{type:"PUT_CONFIG_SUCCESS",name:"config"},{type:"PUT_CONFIG_FAILURE",name:"error"},a))}},He=function(e){return ve({config:e},{config:"required"},{"config.required":Ue()})},Ve=function(){return{type:"CONFIG_EDITOR_CHANGED"}};var Ke={save:"mod+s"},Ge=function(){return i.a.createElement("div",{className:"splitter"})};function Qe(e){var t=e.name;return i.a.createElement("i",{className:"fa fa-".concat(t),"aria-hidden":"true"})}var We=a(17),Ye=a.n(We),qe=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={collapsed:!0},a.handleClick=function(){a.setState((function(e){return{collapsed:!e.collapsed}}))},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"renderIndicator",value:function(){var e=this.props,t=e.counter,a=e.count,n=this.state.collapsed;return n&&t&&a?i.a.createElement("div",{className:"counter"},a):i.a.createElement("div",{className:"chevrons"},i.a.createElement(Qe,{name:"chevron-".concat(n?"down":"up")}))}},{key:"render",value:function(){var e=this.props,t=e.icon,a=e.label,n=e.minHeight,r=e.count,c=e.children,l=this.state.collapsed,o=Ye()("accordion",{collapsed:l}),s=n;return l||(s=n&&r?(r+1)*n:"none"),i.a.createElement("div",{className:o,style:{maxHeight:s},onClick:this.handleClick},i.a.createElement("div",{className:"accordion-label"},t&&i.a.createElement(Qe,{name:t}),a,i.a.createElement("div",{className:"indicator"},this.renderIndicator())),c)}}]),t}(r.Component);qe.defaultProps={minHeight:50};var ze=qe,Ze=a(27),Je=a.n(Ze),Xe=ne.getTitleRequiredMessage,$e=ne.getFilenameRequiredMessage,et=ne.getFilenameNotValidMessage,tt=function(){return function(e){return e({type:"FETCH_COLLECTIONS_REQUEST"}),oe("".concat(b,"/collections"),{type:"FETCH_COLLECTIONS_SUCCESS",name:"collections"},{type:"FETCH_COLLECTIONS_FAILURE",name:"error"},e)}},at=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(a){return a({type:"FETCH_COLLECTION_REQUEST"}),oe(T(e,t),{type:"FETCH_COLLECTION_SUCCESS",name:"entries"},{type:"FETCH_COLLECTION_FAILURE",name:"error"},a)}},nt=function(e,t,a){return function(n){return n({type:"FETCH_DOCUMENT_REQUEST"}),oe(j(e,t,a),{type:"FETCH_DOCUMENT_SUCCESS",name:"doc"},{type:"FETCH_DOCUMENT_FAILURE",name:"error"},n)}},rt=function(e,t){return function(a,n){var r=n().metadata.metadata,i=r.path,c=r.raw_content,l=r.title,o=r.date;if(i&&"".concat(i,"/")!==t||!l){var s=ot(r,e);if(s.length)return a(Oe(s))}else i=lt(l,e,o);a({type:"CLEAR_ERRORS"});var u=Pe(r);return se(j(e,t,i),Me({raw_content:c,front_matter:u}),{type:"PUT_DOCUMENT_SUCCESS",name:"doc"},{type:"PUT_DOCUMENT_FAILURE",name:"error"},a)}},it=function(e,t,a){return function(n,r){var i=r().metadata.metadata,c=i.path,l=i.raw_content,o=i.title,s=i.date;if(c&&"".concat(c,"/")!==t||!o){var u=ot(i,e);if(u.length)return n(Oe(u))}else c=lt(o,e,s);n({type:"CLEAR_ERRORS"});var d=Pe(i),p=t?"_".concat(e,"/").concat(t,"/").concat(c):"_".concat(e,"/").concat(c);return se(j(e,t,a),Me({path:p,raw_content:l,front_matter:d}),{type:"PUT_DOCUMENT_SUCCESS",name:"doc"},{type:"PUT_DOCUMENT_FAILURE",name:"error"},n)}},ct=function(e,t,a){return function(n){var r=Re(t,a);return ue(j(e,t,a),{type:"DELETE_DOCUMENT_SUCCESS",name:"doc",id:r},{type:"DELETE_DOCUMENT_FAILURE",name:"error"},n)}},lt=function(e,t,a){var n=De(e);if("posts"===t){var r=a?a.split(" ")[0]:Je()().format("YYYY-MM-DD");return"".concat(r,"-").concat(n,".md")}return"".concat(n,".md")},ot=function(e,t){var a={title:"required"},n={"title.required":Xe(),"path.required":$e()};return"posts"===t?(a.path="required|date",n["path.date"]=et()):(a.path="required|filename",n["path.filename"]=et()),ve(e,a,n)};var st=ne.sidebar,ut=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.fetchCollections)()}},{key:"renderCollections",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.props.collections;if(!t.length)return null;var a=pe.a.map(t,(function(t,a){if("posts"!==t.label&&!e.includes(t.label))return i.a.createElement("li",{key:a},i.a.createElement(s.Link,{activeClassName:"active",to:"".concat("/admin","/collections/").concat(t.label)},i.a.createElement(Qe,{name:"book"}),t.sidebar_label||je(t.label)))})).filter(Boolean),n=a.length;return n?i.a.createElement(ze,{count:n,icon:"briefcase",label:st.collections,counter:!0},i.a.createElement("ul",null,a)):null}},{key:"render",value:function(){var e,t=this.props.config,a={pages:{icon:"file-text",link:"pages",translation:"pages"},datafiles:{icon:"database",link:"datafiles",translation:"datafiles",splitterBefore:!0},staticfiles:{icon:"file",link:"staticfiles",translation:"staticfiles"},configuration:{icon:"cog",link:"configuration",translation:"configuration",splitterBefore:!0}},n=pe.a.keys(a);try{e=t.jekyll_admin.hidden_links||[]}catch(d){e=[]}var r=pe.a.difference(n,e),c=[];pe.a.each(r,(function(e,t,n){var r=a[e];r.splitterBefore&&c.push(i.a.createElement(Ge,{key:"splitter"+t})),c.push(i.a.createElement("li",{key:t},i.a.createElement(s.Link,{activeClassName:"active",to:"".concat("/admin","/").concat(r.link)},i.a.createElement(Qe,{name:r.icon}),st[r.translation])))}));var l=this.renderCollections(e),o=!e.includes("posts"),u=t&&t.show_drafts;return i.a.createElement("div",{className:"sidebar"},i.a.createElement(s.Link,{className:"logo",to:"".concat("/admin","/pages")}),i.a.createElement("ul",{className:"routes"},l,o&&i.a.createElement("li",null,i.a.createElement(s.Link,{activeClassName:"active",to:"".concat("/admin","/collections/posts")},i.a.createElement(Qe,{name:"book"}),st.posts)),u&&i.a.createElement("li",null,i.a.createElement(s.Link,{activeClassName:"active",to:"".concat("/admin","/drafts")},i.a.createElement(Qe,{name:"edit"}),st.drafts)),(l||o||u)&&i.a.createElement(Ge,null),c))}}]),t}(r.Component),dt=Object(o.b)((function(e){return{collections:e.collections.collections}}),(function(e){return Object(h.b)({fetchCollections:tt},e)}))(ut),pt=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.config;return i.a.createElement("div",{className:"header"},i.a.createElement("h3",{className:"title"},i.a.createElement(s.Link,{target:"_blank",to:e.url||"/"},i.a.createElement(Qe,{name:"home"}),i.a.createElement("span",null,e.title||"You have no title!"))),i.a.createElement("span",{className:"version"},"v","0.11.1"))}}]),t}(r.Component),ft=a(281),mt=a.n(ft),ht=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).elementStyles={Containers:{DefaultStyle:{padding:15,width:360,textAlign:"center"}},Title:{DefaultStyle:{fontSize:21,color:"#fff"}},NotificationItem:{DefaultStyle:{margin:0,padding:"9px 15px 15px",fontSize:15,borderRadius:0,transition:"0.5s ease-in-out"},success:{color:"#fff",backgroundColor:"#088217"},error:{color:"#fff",backgroundColor:"#e21414"},warning:{color:"#fff",backgroundColor:"#ebad1a"},info:{color:"#fff",backgroundColor:"#369cc7"}},Dismiss:{DefaultStyle:{top:7,right:9,width:25,height:25,padding:4,backgroundColor:"transparent",border:"2px solid",opacity:"0.84"}}},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.notificationSystem=this.refs.notificationSystem}},{key:"componentWillReceiveProps",value:function(e){var t=e.notification;this.notificationSystem.addNotification({title:t.title,message:t.message,level:t.level,position:"br",autoDismiss:10})}},{key:"render",value:function(){return i.a.createElement(mt.a,{ref:"notificationSystem",style:this.elementStyles})}}]),t}(r.Component),gt=Object(o.b)((function(e){return{notification:e.notifications.notification}}))(ht),Et=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.fetchConfig)()}},{key:"componentWillReceiveProps",value:function(e){this.props.updated!==e.updated&&(0,this.props.fetchConfig)()}},{key:"componentDidUpdate",value:function(e){if(e.isFetching&&!this.props.isFetching){var t=this.props,a=t.config.content,n=a.jekyll_admin.homepage,r=a.collections,i=t.router,c=i.getCurrentLocation().pathname;if(n&&"/admin"===c){var l="".concat("/admin","/pages");Object.keys(r).concat("posts").includes(n)&&(l="".concat("/admin","/collections/").concat(n)),["drafts","datafiles","staticfiles","configuration"].includes(n)&&(l="".concat("/admin","/").concat(n)),i.replace(l)}}}},{key:"render",value:function(){var e=this.props,t=e.config;return e.isFetching?null:i.a.createElement(v.a,{title:"Jekyll Admin"},i.a.createElement(g.HotKeys,{keyMap:Ke,className:"wrapper"},t.content&&i.a.createElement("div",null,i.a.createElement(dt,{config:t.content}),i.a.createElement("div",{className:"container"},i.a.createElement(pt,{config:t.content}),i.a.createElement("div",{className:"content"},this.props.children)),i.a.createElement(gt,null))))}}]),t}(r.Component),vt=Object(o.b)((function(e){return{config:e.config.config,updated:e.config.updated,isFetching:e.config.isFetching}}),(function(e){return Object(h.b)({fetchConfig:xe},e)}))(Et),yt=a(35);function bt(e){var t=e.fieldValue;return i.a.createElement("div",{className:"meta-value"},i.a.createElement(yt.a,{className:"field value-field",value:"".concat(t),disabled:!0}))}var Ct={array:jt,object:kt,simple:bt};function _t(e){var t=e.type,a=e.fieldKey,n=e.fieldValue,r=Ct[t];return i.a.createElement("div",{className:"object-item-wrap"},i.a.createElement("div",{className:"object-key ".concat(t)},i.a.createElement("input",{value:a,className:"field key-field",type:"text",disabled:!0})),i.a.createElement("div",{className:"object-value"},i.a.createElement(r,{fieldValue:n})))}var Ot=a(22);function kt(e){var t=e.fieldValue,a=pe.a.map(t,(function(e,t){var a=Object(Ot.b)(e);return i.a.createElement(_t,{key:t,fieldKey:t,fieldValue:e,type:a})}));return i.a.createElement("div",{className:"meta-value-object"},a)}var Ft={array:jt,object:kt,simple:bt};function Tt(e){var t=e.type,a=e.fieldValue,n=e.index,r=Ft[t];return i.a.createElement("div",{className:"array-item-wrap"},i.a.createElement("div",{className:"array"},i.a.createElement("div",{className:"array-header"},i.a.createElement("span",{className:"array-field-num"},n+1,".")),i.a.createElement(r,{fieldValue:a})))}function jt(e){var t=e.fieldValue.map((function(e,t){var a=Object(Ot.b)(e);return i.a.createElement(Tt,{key:t,index:t,fieldValue:e,type:a})}));return i.a.createElement("div",{className:"meta-value-array"},t)}var At=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={dropdown:!1},a.toggleDropdownState=function(){a.setState((function(e){return{dropdown:!e.dropdown}}))},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props.onEnableField,a=Ye()("dropdown",{"showing-dropdown":this.state.dropdown});return i.a.createElement("div",{className:"meta-buttons"},i.a.createElement("span",{className:a},i.a.createElement("a",{className:"meta-button",tabIndex:"1",onClick:this.toggleDropdownState,onBlur:function(){return e.setState({dropdown:!1})}},i.a.createElement(Qe,{name:"chevron-down"})),i.a.createElement("div",{className:"dropdown-wrap"},i.a.createElement("span",{onMouseDown:function(){return t()}},i.a.createElement(Qe,{name:"pencil"})," Override default"))))}}]),t}(r.Component),Dt={array:jt,object:kt,simple:bt};function St(e){var t=e.type,a=e.fieldKey,n=e.fieldValue,r=e.enableField,c=Dt[t];return i.a.createElement("div",{className:"metafield  default-field"},i.a.createElement("div",{className:"meta-key ".concat(t)},i.a.createElement("input",{value:a,className:"field key-field",type:"text",disabled:!0}),i.a.createElement(At,{onEnableField:function(){r("metadata['".concat(a,"']"),n)}})),i.a.createElement(c,{fieldValue:n}))}var wt=a(282),Lt=a.n(wt),It=a(84),Nt=a(283),Rt=a.n(Nt),Pt=a(284),Mt=a.n(Pt),Ut=a(285),xt=a.n(Ut),Bt=a(286),Ht=a.n(Bt),Vt=ne.getDeleteMessage,Kt=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(d.a)(t,[{key:"handleClickDelete",value:function(e){var t=this.props,a=t.splat,n=t.onClickDelete,r=Se(e);window.confirm(Vt(e))&&n(a,r)}},{key:"renderFileOverlay",value:function(e,t){var a=this;return e.from_theme?i.a.createElement("span",{className:"theme-indicator",title:"Theme Asset"},i.a.createElement(Qe,{name:"diamond"})):"index"!==t?i.a.createElement("button",{onClick:function(){return a.handleClickDelete(e.relative_path)},className:"delete",title:"Delete file"},"x"):void 0}},{key:"render",value:function(){var e=this.props,t=e.onClick,a=e.file,n=e.splat,r=this.isImageFile?i.a.createElement("img",{src:a.http_url,alt:a.relative_path}):i.a.createElement("div",null,i.a.createElement(Qe,{name:"file-text-o"})),c=t?i.a.createElement("a",{onClick:function(){return t(a.relative_path)}},r):i.a.createElement("a",{href:a.http_url,target:"_blank",rel:"noopener noreferrer"},r),l="index"===n?a.relative_path:a.name;return i.a.createElement("div",{className:"file-preview"},this.renderFileOverlay(a,n),c,i.a.createElement("span",{className:"filename"},l))}},{key:"isImageFile",get:function(){var e=this.props.file,t=e.type,a=e.extname;return"directory"!==t&&/png|jpg|gif|jpeg|svg|ico/i.test(a.substring(1))}}]),t}(r.Component);function Gt(e){var t=e.type,a=e.splat,n=void 0===a?"":a,r=["pages","datafiles","drafts","staticfiles"].includes(t)?"".concat("/admin","/").concat(t):"".concat("/admin","/collections/").concat(t),c=t;"datafiles"===t?c="data files":"staticfiles"===t&&(c="static files");var l=[];if(n){var o=n.split("/");l=o.map((function(e,t){var a=0===t?"":o.slice(0,t).join("/")+"/";return i.a.createElement("li",{key:t},i.a.createElement(s.Link,{to:"".concat(r,"/").concat(a).concat(e)},e))}))}return i.a.createElement("ul",{className:"breadcrumbs"},i.a.createElement("li",null,i.a.createElement(s.Link,{to:r},Ae(c))),l)}var Qt=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).handleKeyPress=function(e){(0,a.props.search)(e.target.value)},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.searchBy;return i.a.createElement("input",{onKeyPress:this.handleKeyPress,type:"text",className:"field",placeholder:"Search by ".concat(e)})}}]),t}(r.Component),Wt=ne.getSuccessMessage,Yt=ne.getErrorMessage,qt=ne.getUploadSuccessMessage,zt=ne.getUploadErrorMessage,Zt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(t){return t({type:"FETCH_STATICFILES_REQUEST"}),oe(S(e),{type:"FETCH_STATICFILES_SUCCESS",name:"files"},{type:"FETCH_STATICFILES_FAILURE",name:"error"},t)}},Jt=function(e,t){return function(a){pe.a.each(t,(function(t){var n=new FileReader;n.readAsDataURL(t),n.onloadend=function(){var r=JSON.stringify({encoded_content:n.result.split("base64,")[1]});return fetch(w(e,t.name),{method:"PUT",body:r,credentials:"same-origin"}).then((function(n){a({type:"PUT_STATICFILE_SUCCESS"}),a(Zt(e)),a(R(Wt(),qt(t.name),"success"))})).catch((function(e){a({type:"PUT_STATICFILE_FAILURE",error:e}),a(R(Yt(),zt(),"error"))}))}}))}},Xt=function(e,t){return function(a){var n=Re(e,t);return ue(w(e,t),{type:"DELETE_STATICFILE_SUCCESS",name:"file",id:n},{type:"DELETE_STATICFILE_FAILURE",name:"error"},a)}};var $t=function(e,t){return t?e.filter((function(e){return e.path.toLowerCase().includes(t.toLowerCase())})):e},ea=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.fetchStaticFiles)("index")}},{key:"renderDirectoryListingBtn",value:function(){var e="".concat("/admin","/staticfiles");return i.a.createElement("div",{className:"page-buttons"},i.a.createElement(s.Link,{className:"btn btn-view",to:e},"Directory Listing"))}},{key:"renderPreviewNode",value:function(){var e=this.props,t=e.files,a=e.onClickStaticFile;return t.length?i.a.createElement("div",{className:"preview-container"},t.map((function(e,t){return i.a.createElement(Kt,{key:t,onClick:a,splat:"index",file:e})}))):i.a.createElement("div",{className:"preview-info"},i.a.createElement(Qe,{name:"exclamation-triangle"}),i.a.createElement("h2",null,"No files found!"),i.a.createElement("h4",null,"Upload files at 'Directory Listing' to have them displayed here."))}},{key:"render",value:function(){var e=this.props,t=e.isFetching,a=e.search,n=e.modalView;return t?null:i.a.createElement(v.a,{title:"Static File Listing"},i.a.createElement("div",null,i.a.createElement("div",{className:"content-header"},i.a.createElement(Gt,{type:"staticfiles"}),!n&&this.renderDirectoryListingBtn(),i.a.createElement("div",{className:"pull-right"},i.a.createElement(Qt,{searchBy:"filename",search:a}))),i.a.createElement("div",{className:"static-list"},this.renderPreviewNode())))}}]),t}(r.Component),ta=Object(o.b)((function(e){return{files:$t(e.staticfiles.files,e.utils.input),isFetching:e.staticfiles.isFetching}}),(function(e){return Object(h.b)({fetchStaticFiles:Zt,search:Ce},e)}))(ea),aa=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={showModal:!1},a.customStyles={overlay:{backgroundColor:"rgba(0,0,0,0.6)",zIndex:10},content:{margin:20,paddingTop:0,paddingRight:10,paddingLeft:15}},a.openModal=function(){return a.setState({showModal:!0})},a.shutModal=function(){return a.setState({showModal:!1})},a.onPickItem=function(e){a.props.onPick(e),a.shutModal()},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return i.a.createElement("span",{className:"images-wrapper"},i.a.createElement("button",{onClick:this.openModal,ref:"trigger"},i.a.createElement(Qe,{name:"picture-o"})),i.a.createElement(Ht.a,{isOpen:this.state.showModal,contentLabel:"FilePicker",onRequestClose:this.shutModal,style:this.customStyles},i.a.createElement("div",{className:"content"},i.a.createElement(ta,{onClickStaticFile:this.onPickItem,modalView:!0}))))}}]),t}(r.Component),na=ne.getDeleteMessage,ra=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).creators=[","," ","Enter"],a.handleKeyUp=function(e){var t=a.state.pageTags,n=e.target.value;n.length&&a.creators.includes(e.key)?a.createTag(n):t.length&&0===n.length&&"Backspace"===e.key&&a.deleteTag(-1)},a.handleOnChange=function(e){var t=e.target.value;a.setState((function(e){return{tagInput:t}}))},a.showSuggestions=function(){a.setState((function(e){return{autoSuggest:!0}}))},a.closeSuggestions=function(){a.setState((function(e){return{autoSuggest:!1}}))},a.rectifyTag=function(e){var t=e.toString().split(" ");a.setState((function(e){return{pageTags:t}}))},a.state={tagInput:"",pageTags:e.fieldValue||[],autoSuggest:!1},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.fieldValue;this.setState({pageTags:t||[]})}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.nameAttr;(0,e.updateFieldValue)(t,this.state.pageTags)}},{key:"createTag",value:function(e){var t=this.state.pageTags,a=Object(It.a)(t);a.includes(e)||(a.push(e),this.setState((function(e){return{pageTags:a,tagInput:"",autoSuggest:!1}})))}},{key:"deleteTag",value:function(e){var t=this.state.pageTags,a=Object(It.a)(t),n=-1===e?a.slice(-1).pop():a[e];window.confirm(na("tag: ".concat(n)))&&(a.splice(e,1),this.setState({pageTags:a}),this.refs.taginput.focus())}},{key:"render",value:function(){var e=this,t=this.state.pageTags,a="".concat(this.state.tagInput),n=this.props.suggestions.filter((function(e){return e.startsWith(a)}));if(!(t instanceof Array))return i.a.createElement("span",{className:"meta-error"},"Expected an array of items. Found: ",i.a.createElement("strong",null,t),i.a.createElement("br",null),i.a.createElement("span",{onClick:function(){return e.rectifyTag(t)}},"Click here"),"to correct.");var r=t.filter(Boolean).map((function(t,a){return i.a.createElement("span",{key:a,className:"tag"},t,i.a.createElement("span",{className:"delete-tag",onClick:function(){return e.deleteTag(a)}}))})),c=n.map((function(a,n){return t.includes(a)?null:i.a.createElement("li",{key:n,onClick:function(){return e.createTag(a)}},a)})).filter(Boolean),l=Ye()("tag-suggestions",{visible:this.state.autoSuggest});return i.a.createElement("div",{className:"tags-wrap field value-field"},r.length>0&&i.a.createElement("div",{className:"tags-list"},r),i.a.createElement("div",{className:"tags-input"},i.a.createElement("input",{type:"text",onChange:this.handleOnChange,onFocus:this.showSuggestions,onKeyUp:this.handleKeyUp,value:a.replace(/,|\s+/,""),ref:"taginput"}),i.a.createElement(yt.a,{className:"field value-field",value:this.state.pageTags.toString(),hidden:!0})),c.length>0&&i.a.createElement("div",{className:l},i.a.createElement("ul",null,c),i.a.createElement("div",{className:"close-suggestions",onClick:this.closeSuggestions},"Close suggestions")))}}]),t}(r.Component);ra.defaultProps={fieldValue:[],suggestions:[]};a(649);xt()(Je.a);var ia=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).handleEditableChange=function(e){var t=a.props,n=t.nameAttr;(0,t.updateFieldValue)(n,e.target.value)},a.handleDatepickerChange=function(e,t){var n=a.props,r=n.nameAttr;(0,n.updateFieldValue)(r,Je()(e).format("YYYY-MM-DD HH:mm:ss"))},a.handleEditableBlur=function(e){var t=a.props,n=t.nameAttr;(0,t.updateFieldValue)(n,e.target.value.trim())},a.onPickItem=function(e){var t=a.props,n=t.nameAttr,r=t.updateFieldValue;a.refs.imagepicker.value=e,r(n,e)},a.handleLayoutChange=function(e){var t=a.props,n=t.nameAttr;(0,t.updateFieldValue)(n,e)},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"renderEditable",value:function(){var e=this.props.fieldValue;return i.a.createElement(yt.a,{onChange:this.handleEditableChange,onBlur:this.handleEditableBlur,className:"field value-field",value:"".concat(e)})}},{key:"renderDatepicker",value:function(){var e=this.props.fieldValue,t=new Date(e);return"Invalid Date"==="".concat(t)&&(t=null),i.a.createElement(Rt.a,{onChange:this.handleDatepickerChange,className:"date-field",value:t})}},{key:"renderStaticFilePicker",value:function(){var e=this.props.fieldValue;return i.a.createElement("div",{className:"imagepicker"},i.a.createElement(yt.a,{onChange:this.handleEditableChange,className:"field value-field",value:e,ref:"imagepicker"}),i.a.createElement(aa,{onPick:this.onPickItem}))}},{key:"renderLayoutPicker",value:function(){var e=this.props,t=e.fieldValue,a=e.siteMeta;if(!a)return this.renderEditable();var n=a.layouts||[];return i.a.createElement(Mt.a,{className:"layout-field",data:["none"].concat(Object(It.a)(n)),defaultValue:t,onChange:this.handleLayoutChange})}},{key:"renderTagsInput",value:function(e){var t=this.props,a=t.fieldValue,n=t.nameAttr,r=t.updateFieldValue,c=t.siteMeta,l=c&&c[e]||[];return i.a.createElement(ra,{fieldValue:a,nameAttr:n,updateFieldValue:r,suggestions:l})}},{key:"render",value:function(){var e,t=this.props,a=t.fieldKey,n=t.nameAttr;switch(a){case"date":e=this.renderDatepicker();break;case"image":case"file":e=this.renderStaticFilePicker();break;case"tags":case"categories":e=this.renderTagsInput(a);break;default:e=this.renderEditable()}return"metadata['layout']"===n&&(e=this.renderLayoutPicker()),i.a.createElement("div",{className:"meta-value"},e)}}]),t}(r.Component),ca=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={dropdown:!1},a.fieldTypes={simple:{icon:"pencil",label:"Simple"},array:{icon:"list-ol",label:"List"},object:{icon:"th-large",label:"Object"}},a.fieldTypeKeys=Object.keys(a.fieldTypes),a.toggleDropdownState=function(){a.setState((function(e){return{dropdown:!e.dropdown}}))},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"renderDropdownItems",value:function(e){var t=this,a=this.props,n=a.onConvertClick;return"tags"===a.parentKey?null:this.fieldTypeKeys.map((function(a,r){if(e!==a){var c=t.fieldTypes[a],l=c.icon,o=c.label;return i.a.createElement("span",{key:r,onMouseDown:function(){return n(a)}},i.a.createElement(Qe,{name:l}),"Convert to ",o)}return null})).filter(Boolean)}},{key:"render",value:function(){var e=this,t=this.props,a=t.currentType,n=t.parentType,r=t.onRemoveClick,c=t.isDefaultField,l=i.a.createElement("span",{className:"move"},i.a.createElement(Qe,{name:"arrows"})),o=Ye()("dropdown",{"showing-dropdown":this.state.dropdown});return i.a.createElement("div",{className:"meta-buttons"},"array"===n&&l,i.a.createElement("span",{className:o},i.a.createElement("a",{className:"meta-button",tabIndex:"1",onClick:this.toggleDropdownState,onBlur:function(){return e.setState({dropdown:!1})}},i.a.createElement(Qe,{name:"chevron-down"})),i.a.createElement("div",{className:"dropdown-wrap"},this.renderDropdownItems(a),i.a.createElement("span",{onMouseDown:function(){return r()},className:"remove-field"},i.a.createElement(Qe,{name:c?"undo":"trash-o"}),c?"Revert to default":"Remove field"))))}}]),t}(r.Component),la=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(d.a)(t,[{key:"handleConvertClick",value:function(e){var t=this.props;(0,t.convertField)(t.nameAttr,e)}},{key:"handleKeyBlur",value:function(){var e=this.props,t=e.namePrefix,a=e.fieldKey,n=e.updateFieldKey,r=Object(l.findDOMNode)(this.refs.field_key).value;a!==r&&""!==r&&n(t,a,r)}},{key:"handleRemoveClick",value:function(){var e=this.props;(0,e.removeField)(e.namePrefix,e.fieldKey)}},{key:"render",value:function(){var e=this,t=this.props,a=t.type,n=t.fieldKey,r=t.fieldValue,c=t.nameAttr,l=t.addField,o=t.removeField,s=t.updateFieldKey,u=t.updateFieldValue,d=t.convertField,p=t.key_prefix,f=t.moveArrayItem,m={array:ua,object:oa,simple:ia}[a];return i.a.createElement("div",{ref:"wrap",className:"object-item-wrap"},i.a.createElement("div",{className:"object-key ".concat(a)},i.a.createElement("input",{ref:"field_key",onBlur:function(t){return e.handleKeyBlur(t)},defaultValue:n,className:"field key-field",type:"text",placeholder:"Key"}),i.a.createElement(ca,{currentType:a,parentType:"object",onConvertClick:function(t){return e.handleConvertClick(t)},onRemoveClick:function(){return e.handleRemoveClick()}})),i.a.createElement("div",{className:"object-value"},i.a.createElement(m,{key_prefix:p,parentType:"object",fieldKey:n,fieldValue:r,addField:l,removeField:o,updateFieldKey:s,updateFieldValue:u,moveArrayItem:f,convertField:d,nameAttr:c,namePrefix:c})))}}]),t}(r.Component),oa=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.fieldKey,a=e.fieldValue,n=e.namePrefix,r=e.addField,c=e.removeField,l=e.updateFieldKey,o=e.updateFieldValue,s=e.convertField,u=e.key_prefix,d=e.moveArrayItem,p=pe.a.map(a,(function(e,t){var a=Object(Ot.b)(e,t);return i.a.createElement(la,{key:t,key_prefix:u,fieldKey:t,fieldValue:e,type:a,addField:r,removeField:c,updateFieldKey:l,updateFieldValue:o,moveArrayItem:d,convertField:s,nameAttr:"".concat(n,"['").concat(t,"']"),namePrefix:n})}));return i.a.createElement("div",{className:"meta-value-object"},p,i.a.createElement("a",{onClick:function(){return r(n)},className:"add-field-object",title:"Add new key/value pair"},"New key/value pair under ",i.a.createElement("strong",null,t)))}}]),t}(r.Component),sa=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(d.a)(t,[{key:"handleConvertClick",value:function(e){var t=this.props;(0,t.convertField)(t.nameAttr,e)}},{key:"handleRemoveClick",value:function(){var e=this.props;(0,e.removeField)(e.namePrefix,e.index)}},{key:"render",value:function(){var e=this,t=this.props,a=t.type,n=t.fieldKey,r=t.fieldValue,c=t.index,l=t.nameAttr,o=t.addField,s=t.removeField,u=t.updateFieldKey,d=t.updateFieldValue,p=t.moveArrayItem,f=t.convertField,m=t.key_prefix,h={array:ua,object:oa,simple:ia}[a];return i.a.createElement("div",{ref:"wrap","data-id":c,className:"array-item-wrap"},i.a.createElement("div",{className:"array"},i.a.createElement("div",{className:"array-header"},i.a.createElement("span",{className:"array-field-num"},c+1,"."),i.a.createElement(ca,{currentType:a,parentType:"array",onConvertClick:function(t){return e.handleConvertClick(t)},onRemoveClick:function(){return e.handleRemoveClick()}})),i.a.createElement(h,{key_prefix:m,parentType:"array",fieldKey:n,fieldValue:r,addField:o,removeField:s,updateFieldKey:u,updateFieldValue:d,moveArrayItem:p,convertField:f,nameAttr:l,namePrefix:l})))}}]),t}(r.Component),ua=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(d.a)(t,[{key:"sortableGroupDecorator",value:function(e){var t=this.props,a=t.moveArrayItem,n=t.namePrefix;if(e){var r={draggable:".array-item-wrap",group:{name:"meta-array-items",pull:!1,put:!1},handle:".move",animation:0,onEnd:function(e){var t=e.item.getAttribute("data-id");a(n,t,e.newIndex)}};Lt.a.create(e,r)}}},{key:"render",value:function(){var e=this.props,t=e.fieldKey,a=e.fieldValue,n=e.namePrefix,r=e.addField,c=e.removeField,l=e.updateFieldKey,o=e.updateFieldValue,s=e.moveArrayItem,u=e.convertField,d=e.key_prefix,p=a.map((function(e,a){var p=Object(Ot.b)(e);return i.a.createElement(sa,{key:"".concat(d,"-").concat(a),key_prefix:d,index:a,fieldKey:t,fieldValue:e,type:p,addField:r,removeField:c,updateFieldKey:l,updateFieldValue:o,moveArrayItem:s,convertField:u,nameAttr:"".concat(n,"[").concat(a,"]"),namePrefix:n})}));return i.a.createElement("div",{className:"meta-value-array",ref:this.sortableGroupDecorator.bind(this)},p,i.a.createElement("a",{onClick:function(){return r(n)},className:"add-field-array",title:"Add new list item"},i.a.createElement(Qe,{name:"plus"})))}}]),t}(r.Component),da=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){/New field/.test(this.props.fieldKey)&&this.refs.field_key.select()}},{key:"handleConvertClick",value:function(e){var t=this.props;(0,t.convertField)(t.nameAttr,e)}},{key:"handleKeyBlur",value:function(){var e=this.props,t=e.namePrefix,a=e.fieldKey,n=e.updateFieldKey,r=Object(l.findDOMNode)(this.refs.field_key).value;a!==r&&""!==r&&n(t,a,r)}},{key:"handleRemoveClick",value:function(){var e=this.props;(0,e.removeField)(e.namePrefix,e.fieldKey)}},{key:"render",value:function(){var e=this,t=this.props,a=t.type,n=t.parentType,r=t.fieldKey,c=t.fieldValue,l=t.namePrefix,o=t.addField,s=t.removeField,u=t.updateFieldKey,d=t.updateFieldValue,p=t.moveArrayItem,f=t.convertField,m=t.key_prefix,h=t.siteMeta,g=t.isInDefaultState,E=t.isDefaultField,v={array:ua,object:oa,simple:ia}[a];return i.a.createElement("div",{ref:"wrap",className:"metafield"},i.a.createElement("div",{className:"meta-key ".concat(a)},i.a.createElement("input",{ref:"field_key",onBlur:function(){return e.handleKeyBlur()},defaultValue:r,className:"field key-field",type:"text",placeholder:"Key",disabled:g}),i.a.createElement(ca,{currentType:a,isDefaultField:E,parentType:"top",parentKey:r,onConvertClick:function(t){return e.handleConvertClick(t)},onRemoveClick:function(){return e.handleRemoveClick()}})),i.a.createElement(v,{key_prefix:m,fieldKey:r,parentType:n,fieldValue:c,addField:o,removeField:s,updateFieldKey:u,updateFieldValue:d,moveArrayItem:p,convertField:f,nameAttr:"".concat(l,"['").concat(r,"']"),namePrefix:"".concat(l,"['").concat(r,"']"),siteMeta:h,isInDefaultState:g}))}}]),t}(r.Component),pa=function(e){return{type:"STORE_CONTENT_FIELDS",content:e}},fa=function(e){return{type:"ADD_METAFIELD",namePrefix:e}},ma=function(e,t){return{type:"REMOVE_METAFIELD",namePrefix:e,key:t}},ha=function(e,t){return{type:"ENABLE_FIELD",nameAttr:e,value:t}},ga=function(e,t,a){return{type:"UPDATE_FIELD_KEY",namePrefix:e,fieldKey:t,newKey:a}},Ea=function(e,t){return{type:"UPDATE_FIELD_VALUE",nameAttr:e,value:t}},va=function(e,t,a){return{type:"MOVE_ARRAY_ITEM",namePrefix:e,srcInd:t,targetInd:a}},ya=function(e,t){return{type:"CONVERT_FIELD",nameAttr:e,convertType:t}},ba=function(e){return{type:"UPDATE_TITLE",title:e}},Ca=function(e){return{type:"UPDATE_BODY",body:e}},_a=function(e){return{type:"UPDATE_PATH",path:e}};var Oa=function(){return function(e){return e({type:"FETCH_SITE_META_REQUEST"}),oe("".concat(b,"/site_meta"),{type:"FETCH_SITE_META_SUCCESS",name:"site"},{type:"FETCH_SITE_META_FAILURE",name:"error"},e)}};var ka=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.storeContentFields,a=e.fields,n=e.fetchSiteMeta;e.dataview||n(),t(a)}},{key:"shouldComponentUpdate",value:function(e){return!pe.a.isEqual(e.metadata,this.props.metadata)}},{key:"render",value:function(){var e=this.props,t=e.metadata,a=e.addField,n=e.enableField,r=e.removeField,c=e.updateFieldKey,l=e.updateFieldValue,o=e.moveArrayItem,s=e.convertField,u=e.key_prefix,d=e.dataview,p=e.site,f=e.staticFields,m=Object(y.a)({},f,{},t);d||(m=pe.a.omit(m,["title","path","raw_content"]));var h=Ye()({datafields:d,metafields:!d}),g=pe.a.omit(f,Object.keys(t)),E=pe.a.map(m,(function(e,t){var m=Object(Ot.b)(e,t);return g.hasOwnProperty(t)?i.a.createElement(St,{key:t,type:m,fieldKey:t,fieldValue:e,enableField:n}):i.a.createElement(da,{key:t,key_prefix:u,type:m,parentType:"top",fieldKey:t,fieldValue:e,addField:a,removeField:r,updateFieldKey:c,updateFieldValue:l,moveArrayItem:o,convertField:s,nameAttr:"metadata['".concat(t,"']"),namePrefix:"metadata",siteMeta:d?null:p,isInDefaultState:g.hasOwnProperty(t),isDefaultField:f&&f.hasOwnProperty(t)})})),v=d?i.a.createElement("div",{className:"data-new"},i.a.createElement("a",{onClick:function(){return a("metadata")}},i.a.createElement(Qe,{name:"plus-circle"})," New data field")):i.a.createElement("div",{className:"meta-new"},i.a.createElement("a",{onClick:function(){return a("metadata")},className:"tooltip"},i.a.createElement(Qe,{name:"plus-circle"})," New metadata field",i.a.createElement("span",{className:"tooltip-text"},"Metadata will be stored as the ",i.a.createElement("b",null,"YAML front matter")," within the document.")),i.a.createElement("small",{className:"tooltip pull-right"},i.a.createElement(Qe,{name:"info-circle"}),"Special Keys",i.a.createElement("span",{className:"tooltip-text"},"You can use special keys like ",i.a.createElement("b",null,"date"),", ",i.a.createElement("b",null,"file"),", ",i.a.createElement("b",null,"image"),", ",i.a.createElement("b",null,"layout")," or ",i.a.createElement("b",null,"tags")," for user-friendly functionalities.")));return i.a.createElement("div",{className:h},E,v)}}]),t}(r.Component),Fa=Object(o.b)((function(e){return{metadata:e.metadata.metadata,key_prefix:e.metadata.key_prefix,site:e.meta.site}}),(function(e){return Object(h.b)({storeContentFields:pa,fetchSiteMeta:Oa,addField:fa,enableField:ha,removeField:ma,updateFieldKey:ga,updateFieldValue:Ea,moveArrayItem:va,convertField:ya},e)}))(ka),Ta=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){return a.props.onChange(e.target.value)},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"renderPathFields",value:function(e,t){return i.a.createElement("form",{className:"datafile-path"},i.a.createElement("fieldset",{className:"filename"},i.a.createElement("legend",null,"Path (without extension)"),i.a.createElement("input",{type:"text",id:"path",defaultValue:e,placeholder:"filename",onChange:this.handleChange,ref:"filepath"})),i.a.createElement("fieldset",{className:"file-type"},i.a.createElement("legend",null,"File Type"),i.a.createElement("select",{id:"extn",defaultValue:t,onChange:this.handleChange,ref:"extname"},i.a.createElement("option",{value:".yml"},"YAML"),i.a.createElement("option",{value:".json"},"JSON"))))}},{key:"render",value:function(){var e=this.props,t=e.fields,a=e.slug,n=e.ext,r=e.restricted;return i.a.createElement("div",null,i.a.createElement("div",{className:"warning"},"CAUTION! Any existing comments will be lost when editing via this view. Switch to the ",i.a.createElement("strong",null,"Raw Editor")," to preserve them."),!r&&this.renderPathFields(a,n),i.a.createElement(Fa,{fields:t,dataview:!0}))}}]),t}(r.Component);Ta.defaultProps={fields:{},slug:"",ext:"",restricted:!1};var ja=Ta,Aa=a(287),Da=a.n(Aa),Sa=(a(653),a(655),a(656),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(){var e=a.props,t=e.onEditorChange;!e.editorChanged&&t()},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.content!==this.props.content}},{key:"getValue",value:function(){return this.refs.ace.editor.getValue()}},{key:"render",value:function(){var e=this.props,t=e.content,a=e.type,n=/json/i.test(a)?"json":"yaml";return i.a.createElement("div",null,i.a.createElement(Da.a,{value:t,mode:n,theme:"monokai",width:"100%",height:"400px",showGutter:!1,showPrintMargin:!1,highlightActiveLine:!1,className:"config-editor",fontSize:14,scrollMargin:[15,15,15,15],ref:"ace",onChange:this.handleChange}),i.a.createElement("div",{className:"statusbar"},"mode: ",n.toUpperCase()))}}]),t}(r.Component)),wa=function(e){var t=e.errors;return i.a.createElement("div",{className:"error-messages"},pe.a.map(t,(function(e,t){return i.a.createElement("div",{key:t},e)})))},La=ne.labels,Ia={create:"plus-square",delete:"trash",publish:"send-o",save:"save",upload:"upload",view:"eye"};function Na(e){var t,a,n=e.type,r=e.active,c=e.triggered,l=e.onClick,o=e.block,s=e.thin,u=e.icon,d=e.to,p=Ye()("btn",{"btn-active":r,"btn-success":r&&("save"===n||"create"===n),"btn-delete":"delete"===n,"btn-view":"view"===n||"publish"===n,"btn-inactive":!r,"btn-fat":o,"btn-thin":s});switch(n){case"save":case"create":t=La[n].label,a=La[n].triggeredLabel;break;case"view-toggle":t=La.viewToggle.label,a=La.viewToggle.triggeredLabel;break;case"view":case"delete":case"upload":case"publish":t=La[n].label;break;default:t="<LABEL>",a="<NEXT LABEL>"}var f=u||Ia[n],m=f&&i.a.createElement(Qe,{name:f});return d?i.a.createElement("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:p},m,t):l?i.a.createElement("button",{onClick:l,className:p},m,c?a:t):null}var Ra=ne.getLeaveMessage,Pa=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={guiView:!1},a.routerWillLeave=function(e){var t=a.props,n=t.editorChanged,r=t.fieldChanged;if(n||r)return Ra()},a.toggleView=function(){a.setState((function(e){return{guiView:!e.guiView}}))},a.handleClickSave=function(e){Le(e);var t=a.props,n=t.editorChanged,r=t.fieldChanged,i=t.putConfig;n?i(a.refs.editor.getValue()):r&&i(null,"gui")},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.router,a=e.route;t.setRouteLeaveHook(a,this.routerWillLeave)}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.clearErrors;e.errors.length&&t()}},{key:"renderContentBody",value:function(){var e=this.props,t=e.config,a=e.editorChanged,n=e.onEditorChange,r=t.raw_content,c=t.content;return this.state.guiView&&c?i.a.createElement(ja,{fields:c,onChange:n,restricted:!0}):i.a.createElement(Sa,{editorChanged:a,onEditorChange:n,content:r,ref:"editor"})}},{key:"render",value:function(){var e=this.props,t=e.editorChanged,a=e.fieldChanged,n=e.updated,r=e.errors,c={save:this.handleClickSave};return i.a.createElement(v.a,{title:"Configuration"},i.a.createElement(g.HotKeys,{handlers:c,className:"single"},r&&r.length>0&&i.a.createElement(wa,{errors:r}),i.a.createElement("div",{className:"content-header"},i.a.createElement("h1",null,"Configuration"),i.a.createElement("div",{className:"page-buttons multiple"},i.a.createElement(Na,{onClick:this.toggleView,type:"view-toggle",triggered:this.state.guiView,active:!0,block:!0}),i.a.createElement(Na,{onClick:this.handleClickSave,type:"save",active:t||a,triggered:n,block:!0}))),i.a.createElement("div",{className:"content-body"},this.renderContentBody())))}}]),t}(r.Component),Ma=Object(s.withRouter)(Object(o.b)((function(e){return{config:e.config.config,updated:e.config.updated,editorChanged:e.config.editorChanged,fieldChanged:e.metadata.fieldChanged,errors:e.utils.errors}}),(function(e){return Object(h.b)({putConfig:Be,onEditorChange:Ve,clearErrors:_e},e)}))(Pa)),Ua=ne.getDeleteMessage,xa=ne.getNotFoundMessage,Ba=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(d.a)(t,[{key:"handleClickDelete",value:function(e){var t=this.props,a=t.deleteItem,n=t.params,r=t.type,i=window.confirm(Ua(e)),c=n.splat?"/".concat(n.splat):"";i&&(a(n.splat,e),s.browserHistory.push("".concat("/admin","/").concat(r).concat(c)))}},{key:"renderTitleCell",value:function(e,t,a,n){return i.a.createElement("td",{className:"row-title"},i.a.createElement("strong",null,i.a.createElement(s.Link,{to:"".concat("/admin","/").concat(a,"/").concat(n)},i.a.createElement(Qe,{name:t}),e)))}},{key:"renderDirectoryRow",value:function(e,t,a){var n=e.name,r=e.relative_path;return i.a.createElement("tr",{key:a},this.renderTitleCell(n,"folder",t,r),i.a.createElement("td",null))}},{key:"renderFileRow",value:function(e,t,a){var n=this,r=e.name,c=e.relative_path,l=e.http_url;return i.a.createElement("tr",{key:a},this.renderTitleCell(r,"file-text-o",t,c),i.a.createElement("td",null,i.a.createElement("div",{className:"row-actions"},i.a.createElement(Na,{onClick:function(){return n.handleClickDelete(r)},type:"delete",active:!0,thin:!0}),l&&i.a.createElement(Na,{to:l,type:"view",active:!0,thin:!0}))))}},{key:"renderRows",value:function(){var e=this,t=this.props,a=t.items,n=t.type;return a.map((function(t,a){return"directory"===t.type?e.renderDirectoryRow(t,n,a):e.renderFileRow(t,n,a)}))}},{key:"render",value:function(){var e=this.props,t=e.items,a=e.type,n=e.newBtnLabel,r=e.search,c=e.params,l="datafiles"===a?"data files":a,o=c.splat?"".concat("/admin","/").concat(a,"/").concat(c.splat,"/new"):"".concat("/admin","/").concat(a,"/new"),u=t.length?i.a.createElement("div",{className:"content-table"},i.a.createElement("table",null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Filename"),i.a.createElement("th",{className:"th-actions"},"Actions"))),i.a.createElement("tbody",null,this.renderRows()))):i.a.createElement("h1",null,xa(l));return i.a.createElement("div",null,i.a.createElement("div",{className:"content-header"},i.a.createElement(Gt,{type:a,splat:c.splat}),i.a.createElement("div",{className:"page-buttons"},i.a.createElement(s.Link,{className:"btn btn-active",to:o},n)),i.a.createElement("div",{className:"pull-right"},i.a.createElement(Qt,{searchBy:"filename",search:r}))),u)}}]),t}(r.Component),Ha=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(t){return t({type:"FETCH_PAGES_REQUEST"}),oe(_(e),{type:"FETCH_PAGES_SUCCESS",name:"pages"},{type:"FETCH_PAGES_FAILURE",name:"error"},t)}},Va=function(e,t){return function(a){return a({type:"FETCH_PAGE_REQUEST"}),oe(O(e,t),{type:"FETCH_PAGE_SUCCESS",name:"page"},{type:"FETCH_PAGE_FAILURE",name:"error"},a)}},Ka=function(e){return function(t,a){var n=a().metadata.metadata,r=n.path,i=n.raw_content,c=n.title;if(r&&"".concat(r,"/")!==e||!c){var l=Ee(n);if(l.length)return t(Oe(l))}else r="".concat(De(c),".md");t({type:"CLEAR_ERRORS"});var o=Pe(n);return se(O(e,r),Me({front_matter:o,raw_content:i}),{type:"PUT_PAGE_SUCCESS",name:"page"},{type:"PUT_PAGE_FAILURE",name:"error"},t)}},Ga=function(e,t){return function(a,n){var r=n().metadata.metadata,i=r.path,c=r.raw_content,l=r.title;if(i&&"".concat(i,"/")!==e||!l){var o=Ee(r);if(o.length)return a(Oe(o))}else i="".concat(De(l),".md");a({type:"CLEAR_ERRORS"});var s=Pe(r),u=e?"".concat(e,"/").concat(i):i;return se(O(e,t),Me({path:u,front_matter:s,raw_content:c}),{type:"PUT_PAGE_SUCCESS",name:"page"},{type:"PUT_PAGE_FAILURE",name:"error"},a)}},Qa=function(e,t){return function(a){var n=Re(e,t);return ue(O(e,t),{type:"DELETE_PAGE_SUCCESS",name:"page",id:n},{type:"DELETE_PAGE_FAILURE",name:"error"},a)}};var Wa=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.fetchPages)(e.params.splat)}},{key:"componentWillReceiveProps",value:function(e){var t=e.fetchPages;this.props.params.splat!==e.params.splat&&t(e.params.splat)}},{key:"render",value:function(){var e=this.props,t=e.isFetching,a=e.pages,n=e.search,r=e.params,c=e.deletePage;if(t)return null;var l=Ne("pages",r.splat);return i.a.createElement(v.a,{title:l},i.a.createElement(Ba,{type:"pages",items:a,params:r,newBtnLabel:"New page",search:n,deleteItem:c}))}}]),t}(r.Component),Ya=Object(o.b)((function(e){return{pages:ye(e.pages.pages,e.utils.input),isFetching:e.pages.isFetching}}),(function(e){return Object(h.b)({fetchPages:Ha,deletePage:Qa,search:Ce},e)}))(Wa),qa=a(26),za=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){var t=a.props.onChange;a.refs.input.value=e.target.value,t(e.target.value)},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.path,a=e.type,n="example.md";if("posts"===a){var r=Je()().format("YYYY-MM-DD");n="".concat(r,"-your-title.md")}else"data files"===a&&(n="your-filename.yml");var c=null;return"data files"!==a&&(c=i.a.createElement("span",{className:"tooltip"},i.a.createElement(Qe,{name:"info-circle"}),i.a.createElement("span",{className:"tooltip-text"},"If you leave ",i.a.createElement("b",null,"path")," blank, it will be autogenerated from title."))),i.a.createElement("div",{className:"input-path"},i.a.createElement("label",null,"Path ",c),i.a.createElement(yt.a,{key:t,onChange:this.handleChange,placeholder:n,defaultValue:t,ref:"input"}))}}]),t}(r.Component),Za=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){(0,a.props.onChange)(e.target.value)},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"shouldComponentUpdate",value:function(e){return e.title!==this.props.title}},{key:"render",value:function(){var e=this.props.title;return i.a.createElement("div",{className:"input-title"},i.a.createElement("label",null,"Title"),i.a.createElement(yt.a,{onChange:this.handleChange,placeholder:"Title",defaultValue:e,ref:"input"}))}}]),t}(r.Component),Ja=a(293),Xa=a(288),$a=a.n(Xa),en=a(7),tn=a.n(en);tn.a.registerLanguage("actionscript",a(668)),tn.a.registerLanguage("apache",a(669)),tn.a.registerLanguage("applescript",a(670)),tn.a.registerLanguage("asciidoc",a(671)),tn.a.registerLanguage("bash",a(672)),tn.a.registerLanguage("basic",a(673)),tn.a.registerLanguage("clojure",a(674)),tn.a.registerLanguage("clojure-repl",a(675)),tn.a.registerLanguage("cmake",a(676)),tn.a.registerLanguage("coffeescript",a(677)),tn.a.registerLanguage("cpp",a(678)),tn.a.registerLanguage("crystal",a(679)),tn.a.registerLanguage("css",a(680)),tn.a.registerLanguage("dart",a(681)),tn.a.registerLanguage("diff",a(682)),tn.a.registerLanguage("django",a(683)),tn.a.registerLanguage("dns",a(684)),tn.a.registerLanguage("dockerfile",a(685)),tn.a.registerLanguage("dos",a(686)),tn.a.registerLanguage("dsconfig",a(687)),tn.a.registerLanguage("elixir",a(688)),tn.a.registerLanguage("elm",a(689)),tn.a.registerLanguage("erb",a(690)),tn.a.registerLanguage("erlang-repl",a(691)),tn.a.registerLanguage("erlang",a(692)),tn.a.registerLanguage("excel",a(693)),tn.a.registerLanguage("fortran",a(694)),tn.a.registerLanguage("fsharp",a(695)),tn.a.registerLanguage("gherkin",a(696)),tn.a.registerLanguage("go",a(697)),tn.a.registerLanguage("gradle",a(698)),tn.a.registerLanguage("groovy",a(699)),tn.a.registerLanguage("haml",a(700)),tn.a.registerLanguage("handlebars",a(701)),tn.a.registerLanguage("haskell",a(702)),tn.a.registerLanguage("htmlbars",a(703)),tn.a.registerLanguage("http",a(704)),tn.a.registerLanguage("ini",a(705)),tn.a.registerLanguage("java",a(706)),tn.a.registerLanguage("javascript",a(707)),tn.a.registerLanguage("json",a(708)),tn.a.registerLanguage("julia",a(709)),tn.a.registerLanguage("julia-repl",a(710)),tn.a.registerLanguage("kotlin",a(711)),tn.a.registerLanguage("ldif",a(712)),tn.a.registerLanguage("less",a(713)),tn.a.registerLanguage("lisp",a(714)),tn.a.registerLanguage("livescript",a(715)),tn.a.registerLanguage("lua",a(716)),tn.a.registerLanguage("makefile",a(717)),tn.a.registerLanguage("markdown",a(718)),tn.a.registerLanguage("mathematica",a(719)),tn.a.registerLanguage("matlab",a(720)),tn.a.registerLanguage("perl",a(721)),tn.a.registerLanguage("nginx",a(722)),tn.a.registerLanguage("nix",a(723)),tn.a.registerLanguage("objectivec",a(724)),tn.a.registerLanguage("ocaml",a(725)),tn.a.registerLanguage("pgsql",a(726)),tn.a.registerLanguage("php",a(727)),tn.a.registerLanguage("plaintext",a(728)),tn.a.registerLanguage("powershell",a(729)),tn.a.registerLanguage("prolog",a(730)),tn.a.registerLanguage("python",a(731)),tn.a.registerLanguage("r",a(732)),tn.a.registerLanguage("reasonml",a(733)),tn.a.registerLanguage("ruby",a(734)),tn.a.registerLanguage("rust",a(735)),tn.a.registerLanguage("scala",a(736)),tn.a.registerLanguage("scss",a(737)),tn.a.registerLanguage("shell",a(738)),tn.a.registerLanguage("smalltalk",a(739)),tn.a.registerLanguage("sql",a(740)),tn.a.registerLanguage("swift",a(741)),tn.a.registerLanguage("typescript",a(742)),tn.a.registerLanguage("vbnet",a(743)),tn.a.registerLanguage("vbscript",a(744)),tn.a.registerLanguage("vim",a(745)),tn.a.registerLanguage("yaml",a(746)),tn.a.registerLanguage("xml",a(747));var an=tn.a,nn=["editor-toolbar","CodeMirror","editor-preview-side","editor-statusbar"],rn=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r))))._replaceSelectedText=function(e,t,a){var n=e.getCursor("start"),r=e.getCursor("end"),i=e.getSelection(),c=Object(Ja.a)(t,2),l=c[0],o=c[1];a&&(o=o.replace("#url#",a)),e.replaceSelection("".concat(l).concat(i).concat(o)),n.ch+=l.length,n!==r&&(r.ch+=l.length),e.setSelection(n,r),e.focus()},a.handleFilePick=function(e){var t=a.editor,n=t.codemirror,r=t.options.insertTexts,i=r.image,c=r.link,l="{{ '".concat(e,"' | relative_url }}"),o=we(e),s=/png|jpg|gif|jpeg|svg|ico/i.test(o)?i:c;a._replaceSelectedText(n,s,l)},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.create(),window.hljs=an}},{key:"shouldComponentUpdate",value:function(e){return e.initialValue!==this.props.initialValue}},{key:"componentDidUpdate",value:function(){this.destroy(),this.create()}},{key:"componentWillUnmount",value:function(){this.destroy()}},{key:"create",value:function(){var e=this,t=this.props,a=t.onChange,n=t.onSave,r=Object.create(this.props);r.element=this.refs.text,r.autoDownloadFontAwesome=!1,r.spellChecker=!1,r.renderingConfig={codeSyntaxHighlighting:!0},r.insertTexts={image:["![","](#url#)"]};var i=["bold","italic","heading","|","code","quote","unordered-list","ordered-list","|","link","image","table",{name:"filepicker",action:function(){return e.refs.filepicker.refs.trigger.click()},className:"fa fa-paperclip",title:"Insert Static File"},"|","preview","side-by-side","fullscreen","|"];n&&i.push({name:"save",action:n,className:"fa fa-floppy-o",title:"Save"}),r.toolbar=i;var c=new $a.a(r);c.codemirror&&c.codemirror.on("change",(function(){a(c.value())})),this.editor=c}},{key:"destroy",value:function(){for(var e in nn){var t=this.refs.container.querySelector("."+nn[e]);t&&t.remove()}}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{style:{display:"none"}},i.a.createElement(aa,{ref:"filepicker",onPick:this.handleFilePick})),i.a.createElement("div",{ref:"container"},i.a.createElement("textarea",{ref:"text"})))}}]),t}(r.Component);function cn(e){var t=e.type,a=e.path,n=e.body,r=e.title,c=e.onSave,l=e.updateTitle,o=e.updatePath,s=e.updateBody,u=e.metafields,d=e.staticmetafields;return i.a.createElement("div",{className:"content-body"},i.a.createElement(za,{onChange:o,type:t,path:a}),i.a.createElement(Za,{onChange:l,title:r}),i.a.createElement(rn,{onChange:s,onSave:c,placeholder:"Body",initialValue:n}),i.a.createElement(Ge,null),i.a.createElement(Fa,{fields:u,staticFields:d}))}cn.defaultProps={path:"",body:"",title:"",metafields:{},staticmetafields:{}};var ln=ne.getLeaveMessage,on=ne.getDeleteMessage,sn=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).routerWillLeave=function(e){if(a.props.fieldChanged)return ln()},a.handleClickSave=function(e){Le(e);var t=a.props,n=t.putPage,r=t.fieldChanged,i=t.params;if(r){var c=Object(qa.a)(i.splat);n(c[0],c.slice(1).join("."))}},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.fetchPage,a=e.params,n=e.router,r=e.route,i=Object(qa.a)(a.splat);t(i[0],i.slice(1).join(".")),n.setRouteLeaveHook(r,this.routerWillLeave)}},{key:"componentWillReceiveProps",value:function(e){if(this.props.updated!==e.updated){var t=e.page.path;t!==this.props.page.path&&s.browserHistory.push("".concat("/admin","/pages/").concat(t))}}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.clearErrors;e.errors.length&&t()}},{key:"handleClickDelete",value:function(e){var t=this.props,a=t.deletePage,n=t.params;if(window.confirm(on(e))){var r=Object(qa.a)(n.splat),i=r[0];a(i,r.slice(1).join(".")),s.browserHistory.push("".concat("/admin","/pages/").concat(i||""))}}},{key:"render",value:function(){var e=this,t=this.props,a=t.isFetching,n=t.page,r=t.errors,c=t.updateTitle,l=t.updateBody,o=t.updatePath,s=t.updated,u=t.fieldChanged,d=t.params;if(a)return null;if(pe.a.isEmpty(n))return i.a.createElement("h1",null,"Could not find the page.");var p={save:this.handleClickSave},f=n.name,m=n.raw_content,h=n.http_url,E=n.front_matter,b=n.front_matter_defaults,C=d.splat[0],_=E&&E.title?E.title:"",O=Ne("pages",C,_||f);return i.a.createElement(v.a,{title:O},i.a.createElement(g.HotKeys,{handlers:p,className:"single"},r.length>0&&i.a.createElement(wa,{errors:r}),i.a.createElement("div",{className:"content-header"},i.a.createElement(Gt,{type:"pages",splat:C})),i.a.createElement("div",{className:"content-wrapper"},i.a.createElement(cn,{type:"pages",updateTitle:c,updatePath:o,updateBody:l,onSave:this.handleClickSave,path:f,title:_,body:m,metafields:Object(y.a)({title:_,raw_content:m,path:f},E),staticmetafields:b}),i.a.createElement("div",{className:"content-side"},i.a.createElement(Na,{onClick:this.handleClickSave,type:"save",active:u,triggered:s,block:!0}),i.a.createElement(Na,{to:h,type:"view",active:!0,block:!0}),i.a.createElement(Ge,null),i.a.createElement(Na,{onClick:function(){return e.handleClickDelete(f)},type:"delete",active:!0,block:!0})))))}}]),t}(r.Component),un=Object(s.withRouter)(Object(o.b)((function(e){return{page:e.pages.page,isFetching:e.pages.isFetching,fieldChanged:e.metadata.fieldChanged,updated:e.pages.updated,errors:e.utils.errors}}),(function(e){return Object(h.b)({fetchPage:Va,deletePage:Qa,putPage:Ga,updateTitle:ba,updateBody:Ca,updatePath:_a,clearErrors:_e},e)}))(sn));function dn(e){var t=e.type,a=e.config,n=e.errors,r=e.updated,c=e.updateBody,l=e.updatePath,o=e.updateTitle,s=e.fieldChanged,u=e.onClickSave,d=e.params.splat,p="drafts"===t?"posts":t;return i.a.createElement(g.HotKeys,{handlers:{save:u}},n.length>0&&i.a.createElement(wa,{errors:n}),i.a.createElement("div",{className:"content-header"},i.a.createElement(Gt,{type:t,splat:d})),i.a.createElement("div",{className:"content-wrapper"},i.a.createElement(cn,{type:t,updatePath:l,updateTitle:o,updateBody:c,onSave:u,staticmetafields:Object(Ot.d)(a,d,p)}),i.a.createElement("div",{className:"content-side"},i.a.createElement(Na,{onClick:u,type:"create",active:s,triggered:r,block:!0}))))}var pn=ne.getLeaveMessage,fn=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).routerWillLeave=function(e){if(a.props.fieldChanged)return pn()},a.handleClickSave=function(e){Le(e);var t=a.props,n=t.fieldChanged,r=t.createPage,i=t.params;n&&r(i.splat)},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.router,a=e.route;t.setRouteLeaveHook(a,this.routerWillLeave)}},{key:"componentWillReceiveProps",value:function(e){this.props.updated!==e.updated&&s.browserHistory.push("".concat("/admin","/pages/").concat(e.page.path))}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.clearErrors;e.errors.length&&t()}},{key:"render",value:function(){var e=this.props,t=e.params,a=e.config,n=e.errors,r=e.updated,c=e.updateBody,l=e.updatePath,o=e.updateTitle,s=e.fieldChanged,u=Ne("pages",t.splat,"New page");return i.a.createElement(v.a,{title:u},i.a.createElement(dn,{type:"pages",params:t,config:a,errors:n,updated:r,updateBody:c,updatePath:l,updateTitle:o,fieldChanged:s,onClickSave:this.handleClickSave}))}}]),t}(r.Component),mn=Object(s.withRouter)(Object(o.b)((function(e){return{page:e.pages.page,fieldChanged:e.metadata.fieldChanged,errors:e.utils.errors,updated:e.pages.updated,config:e.config.config}}),(function(e){return Object(h.b)({updateTitle:ba,updateBody:Ca,updatePath:_a,createPage:Ka,clearErrors:_e},e)}))(fn)),hn=ne.getDeleteMessage,gn=ne.getNotFoundMessage,En=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.fetchCollection,a=e.params;t(a.collection_name,a.splat)}},{key:"componentWillReceiveProps",value:function(e){var t=e.fetchCollection,a=e.params;a.splat===this.props.params.splat&&a.collection_name===this.props.params.collection_name||t(a.collection_name,a.splat)}},{key:"handleClickDelete",value:function(e){var t=this.props,a=t.deleteDocument,n=t.params;window.confirm(hn(e))&&a(n.collection_name,n.splat,e)}},{key:"renderTable",value:function(){return i.a.createElement("div",{className:"content-table"},i.a.createElement("table",null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Name"),i.a.createElement("th",null,"Date"),i.a.createElement("th",{className:"th-actions"},"Actions"))),i.a.createElement("tbody",null,this.renderRows())))}},{key:"renderFileRow",value:function(e){var t=this,a=e.id,n=e.name,r=e.title,c=e.http_url,l=e.collection,o=e.relative_path,u="".concat("/admin","/collections/").concat(l,"/").concat(o),d=e.date.substring(0,e.date.lastIndexOf(" "));return d="12:00:00"===Je()(d).format("hh:mm:ss")?Je()(d).format("ll"):Je()(d).format("lll"),i.a.createElement("tr",{key:a},i.a.createElement("td",{className:"row-title"},i.a.createElement("strong",null,i.a.createElement(s.Link,{to:u},i.a.createElement(Qe,{name:"file-text-o"}),r||n))),i.a.createElement("td",null,d),i.a.createElement("td",null,i.a.createElement("div",{className:"row-actions"},i.a.createElement(Na,{onClick:function(){return t.handleClickDelete(n)},type:"delete",active:!0,thin:!0}),c&&i.a.createElement(Na,{to:c,type:"view",active:!0,thin:!0}))))}},{key:"renderDirectoryRow",value:function(e){var t=this.props.params.collection_name,a=e.name,n=e.relative_path,r=e.modified_time,c="".concat("/admin","/collections/").concat(t,"/").concat(n),l=r.substring(0,r.lastIndexOf(" "));return l=Je()(l).format("ll"),i.a.createElement("tr",{key:a},i.a.createElement("td",{className:"row-title"},i.a.createElement("strong",null,i.a.createElement(s.Link,{to:c},i.a.createElement(Qe,{name:"folder"}),a))),i.a.createElement("td",null,l),i.a.createElement("td",null))}},{key:"renderRows",value:function(){var e=this,t=this.props.documents;return pe.a.map(t,(function(t){return t.type&&"directory"===t.type?e.renderDirectoryRow(t):e.renderFileRow(t)}))}},{key:"render",value:function(){var e=this.props,t=e.isFetching,a=e.documents,n=e.search,r=e.params,c=r.collection_name;if(t)return null;var l=r.splat||"",o=r.splat?"".concat("/admin","/collections/").concat(c,"/").concat(l,"/new"):"".concat("/admin","/collections/").concat(c,"/new"),u=Ne(c,r.splat);return i.a.createElement(v.a,{title:u},i.a.createElement("div",null,i.a.createElement("div",{className:"content-header"},i.a.createElement(Gt,{type:c,splat:l}),i.a.createElement("div",{className:"page-buttons"},i.a.createElement(s.Link,{className:"btn btn-active",to:o},"posts"===c?"New post":"New document")),i.a.createElement("div",{className:"pull-right"},i.a.createElement(Qt,{searchBy:"title",search:n}))),a.length>0&&this.renderTable(),!a.length&&i.a.createElement("h1",null,gn("documents"))))}}]),t}(r.Component),vn=Object(o.b)((function(e){return{documents:(t=e.collections.entries,a=e.utils.input,a?t.filter((function(e){return(e.title||e.name).toLowerCase().includes(a.toLowerCase())})):t),isFetching:e.collections.isFetching};var t,a}),(function(e){return Object(h.b)({fetchCollection:at,deleteDocument:ct,search:Ce},e)}))(En),yn=ne.getLeaveMessage,bn=ne.getDeleteMessage,Cn=ne.getNotFoundMessage,_n=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).routerWillLeave=function(e){if(a.props.fieldChanged)return yn()},a.handleClickSave=function(e){Le(e);var t=a.props,n=t.putDocument,r=t.fieldChanged,i=t.params;if(r){var c=i.collection_name,l=Object(qa.a)(i.splat);n(c,l[0],l.slice(1).join("."))}},a.handleClickDelete=function(){var e=a.props,t=e.deleteDocument,n=e.params,r=Object(qa.a)(n.splat),i=r[0],c=r.slice(1).join(".");if(window.confirm(bn(c))){var l=n.collection_name;t(l,i,c),s.browserHistory.push("".concat("/admin","/collections/").concat(l,"/").concat(i||""))}},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.fetchDocument,a=e.params,n=e.router,r=e.route,i=Object(qa.a)(a.splat),c=i[0],l=i.slice(1).join(".");t(a.collection_name,c,l),n.setRouteLeaveHook(r,this.routerWillLeave)}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.currentDocument;if(this.props.updated!==e.updated){var a=e.currentDocument.path;a!==t.path&&s.browserHistory.push("".concat("/admin","/collections/").concat(a.substring(1)))}}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.clearErrors;e.errors.length&&t()}},{key:"render",value:function(){var e=this.props,t=e.isFetching,a=e.currentDocument,n=e.errors,r=e.updateTitle,c=e.updateBody,l=e.updatePath,o=e.updated,s=e.fieldChanged,u=e.params;if(t)return null;if(pe.a.isEmpty(a))return i.a.createElement("h1",null,Cn("document"));var d=a.title,p=a.raw_content,f=a.http_url,m=a.collection,h=a.front_matter,E=a.front_matter_defaults,b=a.name,C=u.splat[0],_={save:this.handleClickSave},O=Ne(m,C,d);return i.a.createElement(v.a,{title:O},i.a.createElement(g.HotKeys,{handlers:_,className:"single"},n.length>0&&i.a.createElement(wa,{errors:n}),i.a.createElement("div",{className:"content-header"},i.a.createElement(Gt,{type:m,splat:C})),i.a.createElement("div",{className:"content-wrapper"},i.a.createElement(cn,{type:m,path:b,title:d,body:p,updatePath:l,updateTitle:r,updateBody:c,onSave:this.handleClickSave,metafields:Object(y.a)({title:d,path:b,raw_content:p},h),staticmetafields:E}),i.a.createElement("div",{className:"content-side"},i.a.createElement(Na,{onClick:this.handleClickSave,type:"save",active:s,triggered:o,block:!0}),i.a.createElement(Na,{to:f,type:"view",active:!0,block:!0}),i.a.createElement(Ge,null),i.a.createElement(Na,{onClick:this.handleClickDelete,type:"delete",active:!0,block:!0})))))}}]),t}(r.Component),On=Object(s.withRouter)(Object(o.b)((function(e){return{currentDocument:e.collections.currentDocument,isFetching:e.collections.isFetching,fieldChanged:e.metadata.fieldChanged,updated:e.collections.updated,errors:e.utils.errors}}),(function(e){return Object(h.b)({fetchDocument:nt,deleteDocument:ct,putDocument:it,updateTitle:ba,updateBody:Ca,updatePath:_a,clearErrors:_e},e)}))(_n)),kn=ne.getLeaveMessage,Fn=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).routerWillLeave=function(e){if(a.props.fieldChanged)return kn()},a.handleClickSave=function(e){Le(e);var t=a.props,n=t.fieldChanged,r=t.createDocument,i=t.params;n&&r(i.collection_name,i.splat)},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.router,a=e.route;t.setRouteLeaveHook(a,this.routerWillLeave)}},{key:"componentWillReceiveProps",value:function(e){if(this.props.updated!==e.updated){var t=e.currentDocument.path,a=t.substr(t.indexOf("/")+1,t.length);s.browserHistory.push("".concat("/admin","/collections/").concat(e.currentDocument.collection,"/").concat(a))}}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.clearErrors;e.errors.length&&t()}},{key:"render",value:function(){var e=this.props,t=e.params,a=e.config,n=e.errors,r=e.updated,c=e.updateBody,l=e.updatePath,o=e.updateTitle,s=e.fieldChanged,u=t.collection_name,d=Ne(u,t.splat,"New document");return i.a.createElement(v.a,{title:d},i.a.createElement(dn,{type:u,params:t,config:a,errors:n,updated:r,updateBody:c,updatePath:l,updateTitle:o,fieldChanged:s,onClickSave:this.handleClickSave}))}}]),t}(r.Component),Tn=Object(s.withRouter)(Object(o.b)((function(e){return{currentDocument:e.collections.currentDocument,fieldChanged:e.metadata.fieldChanged,errors:e.utils.errors,updated:e.collections.updated,config:e.config.config}}),(function(e){return Object(h.b)({updateTitle:ba,updateBody:Ca,updatePath:_a,createDocument:rt,clearErrors:_e},e)}))(Fn)),jn=ne.getContentRequiredMessage,An=ne.getFilenameRequiredMessage,Dn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(t){return t({type:"FETCH_DATAFILES_REQUEST"}),oe(A(e),{type:"FETCH_DATAFILES_SUCCESS",name:"files"},{type:"FETCH_DATAFILES_FAILURE",name:"error"},t)}},Sn=function(e,t){return function(a){return a({type:"FETCH_DATAFILE_REQUEST"}),oe(D(e,t),{type:"FETCH_DATAFILE_SUCCESS",name:"file"},{type:"FETCH_DATAFILE_FAILURE",name:"error"},a)}},wn=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"editor";return function(i,c){var l=we(n||t);if("gui"===r){var o=/json/i.test(l),s=c().metadata.metadata;s=Ie(s),a=o?JSON.stringify(s,null,2):Te(s)}var u=n?{path:n,raw_content:a}:{raw_content:a},d=Nn(t,a);return d.length?i(Oe(d)):(i({type:"CLEAR_ERRORS"}),se(D(e,t),JSON.stringify(u),{type:"PUT_DATAFILE_SUCCESS",name:"file"},{type:"PUT_DATAFILE_FAILURE",name:"error"},i))}},Ln=function(e,t){return function(a){var n=Re(e,t);return ue(D(e,t),{type:"DELETE_DATAFILE_SUCCESS",name:"file",id:n},{type:"DELETE_DATAFILE_FAILURE",name:"error"},a)}},In=function(){return{type:"DATAFILE_CHANGED"}},Nn=function(e,t){return ve({filename:e,data:t},{filename:"required",data:"required"},{"filename.required":An(),"data.required":jn()})};var Rn=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.fetchDataFiles)(e.params.splat)}},{key:"componentWillReceiveProps",value:function(e){var t=e.fetchDataFiles;this.props.params.splat!==e.params.splat&&t(e.params.splat)}},{key:"render",value:function(){var e=this.props,t=e.isFetching,a=e.files,n=e.search,r=e.params,c=e.deleteDataFile;if(t)return null;var l=Ne("data files",r.splat);return i.a.createElement(v.a,{title:l},i.a.createElement(Ba,{type:"datafiles",items:a,params:r,newBtnLabel:"New data file",search:n,deleteItem:c}))}}]),t}(r.Component),Pn=Object(o.b)((function(e){return{files:ye(e.datafiles.files,e.utils.input),isFetching:e.datafiles.isFetching}}),(function(e){return Object(h.b)({fetchDataFiles:Dn,deleteDataFile:Ln,search:Ce},e)}))(Rn),Mn=ne.getLeaveMessage,Un=ne.getDeleteMessage,xn=ne.getNotFoundMessage,Bn=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={guiView:!1},a.routerWillLeave=function(e){var t=a.props,n=t.datafileChanged,r=t.fieldChanged;if(n||r)return Mn()},a.toggleView=function(){a.setState((function(e){return{guiView:!e.guiView}}))},a.handleClickSave=function(e){Le(e);var t,n,r,i=a.props,c=i.datafile,l=i.datafileChanged,o=i.fieldChanged,s=i.putDataFile,u=i.params,d=c.path,p=c.relative_path,f=d.replace(p,""),m=Object(qa.a)(u.splat),h=m[0],g=m.slice(1).join(".");if(l||o){if(a.state.guiView){var E=a.refs.gui.refs,v=E.filepath,y=E.extname;t=v.value+y.value,n=null,r="gui"}else{var b=a.refs.inputpath.refs.input;t=b.value||b.props.defaultValue,n=a.refs.editor.getValue(),r="editor"}var C=h?f+"".concat(h,"/")+t:f+t;s(h,g,n,C!==d?C:"",r)}},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.fetchDataFile,a=e.params,n=e.router,r=e.route,i=Object(qa.a)(a.splat),c=i[0],l=i.slice(1).join(".");n.setRouteLeaveHook(r,this.routerWillLeave),t(c,l)}},{key:"componentWillReceiveProps",value:function(e){this.props.updated!==e.updated&&(e.datafile.path!==this.props.datafile.path&&s.browserHistory.push("".concat("/admin","/datafiles/").concat(e.datafile.relative_path)))}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.clearErrors;e.errors.length&&t()}},{key:"handleClickDelete",value:function(e){var t=this.props,a=t.deleteDataFile,n=t.params;if(window.confirm(Un(e))){var r=n.splat[0];a(r,Se(e));var i=r?"/".concat(r):"";s.browserHistory.push("".concat("/admin","/datafiles").concat(i))}}},{key:"renderAside",value:function(){var e=this,t=this.props,a=t.datafile,n=t.datafileChanged,r=t.fieldChanged,c=t.updated,l=a.path,o=Se(l),s=we(l),u=/ya?ml|json/i.test(s);return i.a.createElement("div",{className:"content-side"},i.a.createElement(Na,{onClick:this.handleClickSave,type:"save",active:n||r,triggered:c,block:!0}),u&&i.a.createElement(Na,{onClick:this.toggleView,type:"view-toggle",triggered:this.state.guiView,active:!0,block:!0}),i.a.createElement(Ge,null),i.a.createElement(Na,{onClick:function(){return e.handleClickDelete(o)},type:"delete",active:!0,block:!0}))}},{key:"renderContentBody",value:function(e){var t=this.props,a=t.datafile,n=t.datafileChanged,r=t.onDataFileChanged,c=a.raw_content,l=a.content,o=a.slug,s=a.ext,u=this.state.guiView;return u&&l?i.a.createElement("div",{className:"content-body"},i.a.createElement(ja,{fields:l,slug:o,ext:s,onChange:r,ref:"gui"})):!u&&c?i.a.createElement("div",{className:"content-body"},i.a.createElement(za,{onChange:r,type:"data files",path:e,ref:"inputpath"}),i.a.createElement(Sa,{editorChanged:n,onEditorChange:r,content:c,type:s,ref:"editor"})):void 0}},{key:"render",value:function(){var e=this.props,t=e.datafile,a=e.isFetching,n=e.params,r=e.errors;if(a)return null;if(pe.a.isEmpty(t.content))return i.a.createElement("h1",null,xn("content"));var c=n.splat[0],l=Se(t.path),o={save:this.handleClickSave},s=Ne("data files",c,l);return i.a.createElement(v.a,{title:s},i.a.createElement(g.HotKeys,{handlers:o,className:"single"},r.length>0&&i.a.createElement(wa,{errors:r}),i.a.createElement("div",{className:"content-header"},i.a.createElement(Gt,{type:"datafiles",splat:c})),i.a.createElement("div",{className:"content-wrapper"},this.renderContentBody(l),this.renderAside())))}}]),t}(r.Component),Hn=Object(s.withRouter)(Object(o.b)((function(e){return{datafile:e.datafiles.currentFile,isFetching:e.datafiles.isFetching,updated:e.datafiles.updated,datafileChanged:e.datafiles.datafileChanged,fieldChanged:e.metadata.fieldChanged,errors:e.utils.errors}}),(function(e){return Object(h.b)({fetchDataFile:Sn,putDataFile:wn,deleteDataFile:Ln,onDataFileChanged:In,clearErrors:_e},e)}))(Bn)),Vn=ne.getLeaveMessage,Kn=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={guiView:!1},a.routerWillLeave=function(e){if(!a.state.guiView&&a.props.datafileChanged)return Vn()},a.toggleView=function(){a.setState((function(e){return{guiView:!e.guiView}}))},a.handleClickSave=function(e){Le(e);var t,n=a.props,r=n.datafileChanged,i=n.fieldChanged,c=n.putDataFile,l=n.params;if(r||i)if(a.state.guiView){var o=a.refs.gui.refs,s=o.filepath,u=o.extname;t=s.value+u.value,c(l.splat,t,null,null,"gui")}else t=a.refs.inputpath.refs.input.value,c(l.splat,t,a.refs.editor.getValue())},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.router,a=e.route;t.setRouteLeaveHook(a,this.routerWillLeave)}},{key:"componentWillReceiveProps",value:function(e){this.props.updated!==e.updated&&s.browserHistory.push("".concat("/admin","/datafiles/").concat(e.datafile.relative_path))}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.clearErrors;e.errors.length&&t()}},{key:"renderAside",value:function(){var e=this.props,t=e.datafileChanged,a=e.fieldChanged,n=e.updated;return i.a.createElement("div",{className:"content-side"},i.a.createElement(Na,{onClick:this.handleClickSave,type:"create",active:t||a,triggered:n,block:!0}),i.a.createElement(Na,{onClick:this.toggleView,type:"view-toggle",triggered:this.state.guiView,active:!0,block:!0}))}},{key:"renderContentBody",value:function(){var e=this.props,t=e.datafileChanged,a=e.onDataFileChanged;return this.state.guiView?i.a.createElement("div",{className:"content-body"},i.a.createElement(ja,{onChange:a,ref:"gui"})):i.a.createElement("div",{className:"content-body"},i.a.createElement(za,{onChange:a,type:"data files",path:"",ref:"inputpath"}),i.a.createElement(Sa,{editorChanged:t,onEditorChange:a,content:"",ref:"editor"}))}},{key:"render",value:function(){var e=this.props,t=e.errors,a=e.params,n={save:this.handleClickSave},r=Ne("data files",a.splat,"New data file");return i.a.createElement(v.a,{title:r},i.a.createElement(g.HotKeys,{handlers:n},t.length>0&&i.a.createElement(wa,{errors:t}),i.a.createElement("div",{className:"content-header"},i.a.createElement(Gt,{type:"datafiles",splat:a.splat})),i.a.createElement("div",{className:"content-wrapper"},this.renderContentBody(),this.renderAside())))}}]),t}(r.Component),Gn=Object(s.withRouter)(Object(o.b)((function(e){return{datafile:e.datafiles.currentFile,updated:e.datafiles.updated,datafileChanged:e.datafiles.datafileChanged,fieldChanged:e.metadata.fieldChanged,errors:e.utils.errors}}),(function(e){return Object(h.b)({putDataFile:wn,onDataFileChanged:In,clearErrors:_e},e)}))(Kn)),Qn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(t){return t({type:"FETCH_DRAFTS_REQUEST"}),oe(k(e),{type:"FETCH_DRAFTS_SUCCESS",name:"drafts"},{type:"FETCH_DRAFTS_FAILURE",name:"error"},t)}},Wn=function(e,t){return function(a){return a({type:"FETCH_DRAFT_REQUEST"}),oe(F(e,t),{type:"FETCH_DRAFT_SUCCESS",name:"draft"},{type:"FETCH_DRAFT_FAILURE",name:"error"},a)}},Yn=function(e){return function(t,a){var n=a().metadata.metadata,r=n.path,i=n.raw_content,c=n.title;if(r&&"".concat(r,"/")!==e||!c){var l=Ee(n);if(l.length)return t(Oe(l))}else r="".concat(De(c),".md");t({type:"CLEAR_ERRORS"});var o=Pe(n),s=r.replace("_drafts/","");return se(F(e,s),Me({front_matter:o,raw_content:i}),{type:"PUT_DRAFT_SUCCESS",name:"draft"},{type:"PUT_DRAFT_FAILURE",name:"error"},t)}},qn=function(e,t){return function(a,n){var r=n().metadata.metadata,i=r.path,c=r.raw_content,l=r.title;if(i&&"".concat(i,"/")!==e||!l){var o=Ee(r);if(o.length)return a(Oe(o))}else i="".concat(De(l),".md");a({type:"CLEAR_ERRORS"});var s=Pe(r),u=e?"_drafts/".concat(e,"/").concat(i):"_drafts/".concat(i);return se(F(e,t),Me({path:u,front_matter:s,raw_content:c}),{type:"PUT_DRAFT_SUCCESS",name:"draft"},{type:"PUT_DRAFT_FAILURE",name:"error"},a)}},zn=function(e,t){return function(a){var n=Re(e,t);return ue(F(e,t),{type:"DELETE_DRAFT_SUCCESS",name:"draft",id:n},{type:"DELETE_DRAFT_FAILURE",name:"error"},a)}},Zn=function(e,t){return function(a,n){var r=n().metadata.metadata,i=r.path,c=r.raw_content,l=r.title;if(!i&&l)i="".concat(De(l),".md");else{var o=Ee(r);if(o.length)return a(Oe(o))}a({type:"CLEAR_ERRORS"});var s=Pe(r);return se(j("posts",e,t),Me({raw_content:c,front_matter:s}),{type:"PUT_DOCUMENT_SUCCESS",name:"doc"},{type:"PUT_DOCUMENT_FAILURE",name:"error"},a)}};var Jn=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.fetchDrafts)(e.params.splat)}},{key:"componentWillReceiveProps",value:function(e){var t=e.fetchDrafts;this.props.params.splat!==e.params.splat&&t(e.params.splat)}},{key:"render",value:function(){var e=this.props,t=e.isFetching,a=e.drafts,n=e.search,r=e.params,c=e.deleteDraft;if(t)return null;var l=Ne("drafts",r.splat);return i.a.createElement(v.a,{title:l},i.a.createElement(Ba,{type:"drafts",items:a,params:r,newBtnLabel:"New draft",search:n,deleteItem:c}))}}]),t}(r.Component),Xn=Object(o.b)((function(e){return{drafts:ye(e.drafts.drafts,e.utils.input),isFetching:e.drafts.isFetching}}),(function(e){return Object(h.b)({fetchDrafts:Qn,deleteDraft:zn,search:Ce},e)}))(Jn),$n=ne.getLeaveMessage,er=ne.getDeleteMessage,tr=ne.getPublishDraftMessage,ar=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).routerWillLeave=function(e){if(a.props.fieldChanged)return $n()},a.handleClickSave=function(e){Le(e);var t=a.props,n=t.putDraft,r=t.fieldChanged,i=t.params;if(r){var c=Object(qa.a)(i.splat);n(c[0],c.slice(1).join("."))}},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.fetchDraft,a=e.params,n=e.router,r=e.route,i=Object(qa.a)(a.splat);t(i[0],i.slice(1).join(".")),n.setRouteLeaveHook(r,this.routerWillLeave)}},{key:"componentWillReceiveProps",value:function(e){this.props.updated!==e.updated&&(e.draft.path!==this.props.draft.path&&s.browserHistory.push("".concat("/admin","/drafts/").concat(e.draft.relative_path)))}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.clearErrors;e.errors.length&&t()}},{key:"handleClickPublish",value:function(e){var t=this.props,a=t.deleteDraft,n=t.publishDraft,r=t.params,i=Object(qa.a)(r.splat),c=i[0],l=i.slice(1).join("."),o=Je()().format("YYYY-MM-DD"),u="".concat(o,"-").concat(l),d=c?"_posts/".concat(c,"/").concat(u):"_posts/".concat(u);if(window.confirm(tr(e,d))){var p=c?"/".concat(c):"";a(c,l),n(c,u),s.browserHistory.push("".concat("/admin","/drafts").concat(p))}}},{key:"handleClickDelete",value:function(e){var t=this.props,a=t.deleteDraft,n=t.params;if(window.confirm(er(e))){var r=Object(qa.a)(n.splat),i=r[0],c=r.slice(1).join("."),l=i?"/".concat(i):"";a(i,c),s.browserHistory.push("".concat("/admin","/drafts").concat(l))}}},{key:"render",value:function(){var e=this,t=this.props,a=t.isFetching,n=t.draft,r=t.errors,c=t.updateTitle,l=t.updateBody,o=t.updatePath,s=t.updated,u=t.fieldChanged,d=t.params;if(a)return null;if(pe.a.isEmpty(n))return i.a.createElement("h1",null,"Could not find the draft.");var p={save:this.handleClickSave},f=n.name,m=n.path,h=n.raw_content,E=n.http_url,b=n.front_matter,C=n.front_matter_defaults,_=d.splat[0],O=b&&b.title?b.title:"",k=Ne("drafts",_,O||f);return i.a.createElement(v.a,{title:k},i.a.createElement(g.HotKeys,{handlers:p,className:"single"},r.length>0&&i.a.createElement(wa,{errors:r}),i.a.createElement("div",{className:"content-header"},i.a.createElement(Gt,{type:"drafts",splat:_})),i.a.createElement("div",{className:"content-wrapper"},i.a.createElement(cn,{type:"drafts",path:f,title:O,body:h,updatePath:o,updateBody:l,updateTitle:c,onSave:this.handleClickSave,metafields:Object(y.a)({title:O,raw_content:h,path:f},b),staticmetafields:C}),i.a.createElement("div",{className:"content-side"},i.a.createElement(Na,{onClick:this.handleClickSave,type:"save",active:u,triggered:s,block:!0}),i.a.createElement(Na,{to:E,type:"view",active:!0,block:!0}),i.a.createElement(Ge,null),i.a.createElement(Na,{onClick:function(){return e.handleClickPublish(m)},type:"publish",active:!0,block:!0}),i.a.createElement(Na,{onClick:function(){return e.handleClickDelete(f)},type:"delete",active:!0,block:!0})))))}}]),t}(r.Component),nr=Object(s.withRouter)(Object(o.b)((function(e){return{draft:e.drafts.draft,isFetching:e.drafts.isFetching,fieldChanged:e.metadata.fieldChanged,updated:e.drafts.updated,errors:e.utils.errors}}),(function(e){return Object(h.b)({fetchDraft:Wn,deleteDraft:zn,putDraft:qn,publishDraft:Zn,updateTitle:ba,updateBody:Ca,updatePath:_a,clearErrors:_e},e)}))(ar)),rr=ne.getLeaveMessage,ir=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).routerWillLeave=function(e){if(a.props.fieldChanged)return rr()},a.handleClickSave=function(e){Le(e);var t=a.props,n=t.fieldChanged,r=t.createDraft,i=t.params;n&&r(i.splat)},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.router,a=e.route;t.setRouteLeaveHook(a,this.routerWillLeave)}},{key:"componentWillReceiveProps",value:function(e){this.props.updated!==e.updated&&s.browserHistory.push("".concat("/admin","/drafts/").concat(e.draft.relative_path))}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.clearErrors;e.errors.length&&t()}},{key:"render",value:function(){var e=this.props,t=e.params,a=e.config,n=e.errors,r=e.updated,c=e.updateBody,l=e.updatePath,o=e.updateTitle,s=e.fieldChanged,u=Ne("drafts",t.splat,"New draft");return i.a.createElement(v.a,{title:u},i.a.createElement(dn,{type:"drafts",params:t,config:a,errors:n,updated:r,updateBody:c,updatePath:l,updateTitle:o,fieldChanged:s,onClickSave:this.handleClickSave}))}}]),t}(r.Component),cr=Object(s.withRouter)(Object(o.b)((function(e){return{draft:e.drafts.draft,fieldChanged:e.metadata.fieldChanged,errors:e.utils.errors,updated:e.drafts.updated,config:e.config.config}}),(function(e){return Object(h.b)({updateTitle:ba,updateBody:Ca,updatePath:_a,createDraft:Yn,clearErrors:_e},e)}))(ir)),lr=a(289),or=a.n(lr),sr=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(d.a)(t,[{key:"openDropzone",value:function(){this.refs.ReactDropzone.open()}},{key:"render",value:function(){var e=this.props,t=e.files,a=e.splat,n=e.onDrop,r=e.onClickDelete,c=e.onClickItem;return i.a.createElement(or.a,{onDrop:n,ref:"ReactDropzone",className:"dropzone",activeClassName:"dropzone-active",multiple:!0,disableClick:!0},t.length?i.a.createElement("div",{className:"preview-container"},pe.a.map(t,(function(e,t){return i.a.createElement(Kt,{key:t,onClick:c,onClickDelete:r,splat:a,file:e})})),i.a.createElement(Ge,null),i.a.createElement("div",{className:"preview-tip"},i.a.createElement("div",null,"Drag and drop file(s) here to upload"))):i.a.createElement("div",{className:"preview-info"},i.a.createElement(Qe,{name:"upload"}),i.a.createElement("p",null,"Drag and drop file(s) here to upload")))}}]),t}(r.Component),ur=ne.getOverrideMessage,dr=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).openDropzone=function(){a.refs.dropzone.openDropzone()},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.fetchStaticFiles)(e.params.splat)}},{key:"componentWillReceiveProps",value:function(e){var t=e.fetchStaticFiles;this.props.params.splat!==e.params.splat&&t(e.params.splat)}},{key:"onDrop",value:function(e){var t=this.props,a=t.uploadStaticFiles,n=t.files,r=t.params,i=function(e,t){if(e&&!e.length||t&&!t.length)return[];var a=pe.a.map(t,(function(e){return Se(e.path)}));return pe.a.chain(e).filter((function(e){return a.includes(e.name)})).map((function(e){return e.name})).value()}(e,n);if(i.length>0&&!window.confirm(ur(i.join(", "))))return!1;a(r.splat,e)}},{key:"renderFilePreviewRow",value:function(e,t){var a=this,n=this.props,r=n.params,c=n.onClickStaticFile,l=n.deleteStaticFile;return i.a.createElement("tr",{key:t},i.a.createElement("td",null,i.a.createElement(sr,{ref:"dropzone",splat:r.splat||"",files:e,onClickItem:c,onClickDelete:l,onDrop:function(e){return a.onDrop(e)}})))}},{key:"renderDirectoryRow",value:function(e,t){var a=e.name,n=e.path,r="".concat("/admin","/staticfiles/").concat(n);return i.a.createElement("tr",{key:t},i.a.createElement("td",{className:"row-title"},i.a.createElement("strong",null,i.a.createElement(s.Link,{to:r},i.a.createElement(Qe,{name:"folder"}),a))))}},{key:"renderRows",value:function(){var e=this,t=this.props.files,a=t.filter((function(e){return"directory"===e.type})),n=t.filter((function(e){return!e.type}));return a.map((function(t,a){return e.renderDirectoryRow(t,a)})).concat(this.renderFilePreviewRow(n,a.length+1))}},{key:"renderTable",value:function(){return i.a.createElement("div",{className:"content-table"},i.a.createElement("table",null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Directory Contents"))),i.a.createElement("tbody",null,this.renderRows())))}},{key:"render",value:function(){var e=this,t=this.props,a=t.isFetching,n=t.params,r=t.search;if(a)return null;var c="".concat("/admin","/staticfiles/index"),l=Ne("static files",n.splat);return i.a.createElement(v.a,{title:l},i.a.createElement("div",null,i.a.createElement("div",{className:"content-header"},i.a.createElement(Gt,{type:"staticfiles",splat:n.splat}),i.a.createElement("div",{className:"page-buttons multiple"},i.a.createElement(s.Link,{className:"btn btn-view",to:c},"Index Listing"),i.a.createElement(Na,{onClick:function(){return e.openDropzone()},type:"upload",active:!0})),i.a.createElement("div",{className:"pull-right"},i.a.createElement(Qt,{searchBy:"filename",search:r}))),this.renderTable()))}}]),t}(r.Component),pr=Object(o.b)((function(e){return{files:$t(e.staticfiles.files,e.utils.input),isFetching:e.staticfiles.isFetching}}),(function(e){return Object(h.b)({fetchStaticFiles:Zt,uploadStaticFiles:Jt,deleteStaticFile:Xt,search:Ce},e)}))(dr),fr=function(){return i.a.createElement("div",{className:"notfound"},i.a.createElement("img",{src:a(748),alt:"Jekyll Admin"}),i.a.createElement("h1",null,"Huh. It seems that page is Hyde-ing..."),i.a.createElement("h2",null,"The resource you requested was not found."))},mr=i.a.createElement(s.Route,{path:"".concat("/admin"),component:vt},i.a.createElement(s.IndexRoute,{component:Ya}),i.a.createElement(s.Route,{path:"configuration",component:Ma}),i.a.createElement(s.Route,{path:"pages"},i.a.createElement(s.IndexRoute,{component:Ya}),i.a.createElement(s.Route,{path:"(**/)new",component:mn}),i.a.createElement(s.Route,{path:"(**/)*.*",component:un}),i.a.createElement(s.Route,{path:"**",component:Ya})),i.a.createElement(s.Route,{path:"collections"},i.a.createElement(s.Route,{path:":collection_name"},i.a.createElement(s.IndexRoute,{component:vn}),i.a.createElement(s.Route,{path:"(**/)new",component:Tn}),i.a.createElement(s.Route,{path:"(**/)*.*",component:On}),i.a.createElement(s.Route,{path:"**",component:vn}))),i.a.createElement(s.Route,{path:"drafts"},i.a.createElement(s.IndexRoute,{component:Xn}),i.a.createElement(s.Route,{path:"(**/)new",component:cr}),i.a.createElement(s.Route,{path:"(**/)*.*",component:nr}),i.a.createElement(s.Route,{path:"**",component:Xn})),i.a.createElement(s.Route,{path:"datafiles"},i.a.createElement(s.IndexRoute,{component:Pn}),i.a.createElement(s.Route,{path:"(**/)new",component:Gn}),i.a.createElement(s.Route,{path:"(**/)*.*",component:Hn}),i.a.createElement(s.Route,{path:"**",component:Pn})),i.a.createElement(s.Route,{path:"staticfiles"},i.a.createElement(s.IndexRoute,{component:pr}),i.a.createElement(s.Route,{path:"index",component:ta}),i.a.createElement(s.Route,{path:"**",component:pr})),i.a.createElement(s.Route,{path:"".concat("/admin","/*"),component:fr})),hr=(a(290),a(174)),gr=a.n(hr),Er=a(291),vr=a.n(Er),yr=Object(h.c)({routing:c.routerReducer,meta:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{site:{},isFetching:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_SITE_META_REQUEST":return Object(y.a)({},e,{isFetching:!0});case"FETCH_SITE_META_SUCCESS":return Object(y.a)({},e,{site:t.site,isFetching:!1});case"FETCH_SITE_META_FAILURE":return Object(y.a)({},e,{isFetching:!1});default:return e}},config:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{config:{},updated:!1,editorChanged:!1,fieldChanged:!1,isFetching:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_CONFIG_REQUEST":return Object(y.a)({},e,{isFetching:!0});case"FETCH_CONFIG_SUCCESS":return Object(y.a)({},e,{config:t.config,isFetching:!1});case"FETCH_CONFIG_FAILURE":return Object(y.a)({},e,{isFetching:!1});case"PUT_CONFIG_SUCCESS":return Object(y.a)({},e,{config:t.config,editorChanged:!1,updated:!0});case"PUT_CONFIG_FAILURE":return Object(y.a)({},e,{editorChanged:!1});case"CONFIG_EDITOR_CHANGED":return Object(y.a)({},e,{editorChanged:!0,updated:!1});default:return Object(y.a)({},e,{updated:!1,editorChanged:!1})}},pages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{pages:[],page:{},isFetching:!1,updated:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PAGES_REQUEST":case"FETCH_PAGE_REQUEST":return Object(y.a)({},e,{isFetching:!0});case"FETCH_PAGES_SUCCESS":return Object(y.a)({},e,{pages:t.pages,isFetching:!1,page:{}});case"FETCH_PAGES_FAILURE":return Object(y.a)({},e,{isFetching:!1,pages:[]});case"FETCH_PAGE_SUCCESS":return Object(y.a)({},e,{page:t.page,isFetching:!1});case"FETCH_PAGE_FAILURE":return Object(y.a)({},e,{page:{},isFetching:!1});case"PUT_PAGE_SUCCESS":return Object(y.a)({},e,{page:t.page,updated:!0});case"DELETE_PAGE_SUCCESS":return Object(y.a)({},e,{pages:be(e.pages,t.id)});default:return Object(y.a)({},e,{updated:!1})}},collections:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{collections:[],entries:[],currentDocument:{},isFetching:!1,updated:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_COLLECTIONS_REQUEST":case"FETCH_COLLECTION_REQUEST":case"FETCH_DOCUMENT_REQUEST":return Object(y.a)({},e,{isFetching:!0});case"FETCH_COLLECTIONS_SUCCESS":return Object(y.a)({},e,{collections:t.collections,isFetching:!1});case"FETCH_COLLECTION_SUCCESS":return Object(y.a)({},e,{entries:t.entries,isFetching:!1});case"FETCH_DOCUMENT_SUCCESS":return Object(y.a)({},e,{currentDocument:t.doc,isFetching:!1});case"FETCH_COLLECTIONS_FAILURE":return Object(y.a)({},e,{collections:[],isFetching:!1});case"FETCH_COLLECTION_FAILURE":return Object(y.a)({},e,{entries:[],isFetching:!1});case"FETCH_DOCUMENT_FAILURE":return Object(y.a)({},e,{currentDocument:{},isFetching:!1});case"PUT_DOCUMENT_SUCCESS":return Object(y.a)({},e,{currentDocument:t.doc,updated:!0});case"DELETE_DOCUMENT_SUCCESS":return Object(y.a)({},e,{entries:be(e.entries,t.id)});default:return Object(y.a)({},e,{updated:!1})}},metadata:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{metadata:{},new_field_count:1,key_prefix:"",fieldChanged:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_TITLE":return Object(y.a)({},e,{metadata:Object(y.a)({},e.metadata,{title:t.title}),fieldChanged:!0});case"UPDATE_BODY":return Object(y.a)({},e,{metadata:Object(y.a)({},e.metadata,{raw_content:t.body}),fieldChanged:!0});case"UPDATE_PATH":return Object(y.a)({},e,{metadata:Object(y.a)({},e.metadata,{path:t.path}),fieldChanged:!0});case"STORE_CONTENT_FIELDS":return Object(y.a)({},e,{metadata:t.content});case"ADD_METAFIELD":return Object(y.a)({},e,{metadata:Object(Ot.a)(e,t.namePrefix),new_field_count:e.new_field_count+1});case"REMOVE_METAFIELD":return Object(y.a)({},e,{metadata:Object(Ot.f)(e,t.namePrefix,t.key),fieldChanged:!0,key_prefix:"".concat(100*Math.random())});case"UPDATE_FIELD_KEY":return Object(y.a)({},e,{metadata:Object(Ot.g)(e,t.namePrefix,t.fieldKey,t.newKey.trim()),fieldChanged:!0});case"UPDATE_FIELD_VALUE":return Object(y.a)({},e,{metadata:Object(Ot.h)(e,t.nameAttr,t.value),fieldChanged:!0});case"MOVE_ARRAY_ITEM":return Object(y.a)({},e,{metadata:Object(Ot.e)(e,t.namePrefix,t.srcInd,t.targetInd),key_prefix:"".concat(100*Math.random()),fieldChanged:!0});case"CONVERT_FIELD":return Object(y.a)({},e,{metadata:Object(Ot.c)(e,t.nameAttr,t.convertType),new_field_count:e.new_field_count+1,fieldChanged:!0});case"ENABLE_FIELD":return Object(y.a)({},e,{metadata:Object(Ot.h)(e,t.nameAttr,t.value),fieldChanged:!0});default:return Object(y.a)({},e,{fieldChanged:!1})}},drafts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{drafts:[],draft:{},isFetching:!1,updated:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_DRAFTS_REQUEST":case"FETCH_DRAFT_REQUEST":return Object(y.a)({},e,{isFetching:!0});case"FETCH_DRAFTS_SUCCESS":return Object(y.a)({},e,{drafts:t.drafts,isFetching:!1,draft:{}});case"FETCH_DRAFTS_FAILURE":return Object(y.a)({},e,{isFetching:!1,drafts:[]});case"FETCH_DRAFT_SUCCESS":return Object(y.a)({},e,{draft:t.draft,isFetching:!1});case"FETCH_DRAFT_FAILURE":return Object(y.a)({},e,{draft:{},isFetching:!1});case"PUT_DRAFT_SUCCESS":return Object(y.a)({},e,{draft:t.draft,updated:!0});case"DELETE_DRAFT_SUCCESS":return Object(y.a)({},e,{drafts:be(e.drafts,t.id)});default:return Object(y.a)({},e,{updated:!1})}},datafiles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{files:[],currentFile:{},isFetching:!1,updated:!1,datafileChanged:!1,fieldChanged:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_DATAFILES_REQUEST":case"FETCH_DATAFILE_REQUEST":return Object(y.a)({},e,{isFetching:!0});case"FETCH_DATAFILES_SUCCESS":return Object(y.a)({},e,{files:t.files,isFetching:!1,currentFile:{}});case"FETCH_DATAFILES_FAILURE":return Object(y.a)({},e,{isFetching:!1,currentFile:{}});case"FETCH_DATAFILE_SUCCESS":return Object(y.a)({},e,{currentFile:t.file,isFetching:!1});case"FETCH_DATAFILE_FAILURE":return Object(y.a)({},e,{currentFile:{},isFetching:!1});case"PUT_DATAFILE_SUCCESS":return Object(y.a)({},e,{currentFile:t.file,updated:!0,datafileChanged:!1});case"PUT_DATAFILE_FAILURE":return Object(y.a)({},e,{datafileChanged:!1});case"DELETE_DATAFILE_SUCCESS":return Object(y.a)({},e,{files:be(e.files,t.id)});case"DATAFILE_CHANGED":return Object(y.a)({},e,{datafileChanged:!0,updated:!1});default:return Object(y.a)({},e,{updated:!1,datafileChanged:!1})}},staticfiles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{files:[],isFetching:!1,uploading:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_STATICFILES_REQUEST":return Object(y.a)({},e,{isFetching:!0});case"FETCH_STATICFILES_SUCCESS":return Object(y.a)({},e,{files:t.files,isFetching:!1});case"FETCH_STATICFILES_FAILURE":return Object(y.a)({},e,{isFetching:!1});case"PUT_STATICFILE_REQUEST":return Object(y.a)({},e,{uploading:!0});case"PUT_STATICFILE_SUCCESS":case"PUT_STATICFILE_FAILURE":return Object(y.a)({},e,{uploading:!1});case"DELETE_STATICFILE_SUCCESS":return Object(y.a)({},e,{files:be(e.files,t.id)});default:return e}},utils:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{input:"",errors:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH_CONTENT":return Object(y.a)({},e,{input:t.input});case"CLEAR_ERRORS":return Object(y.a)({},e,{errors:[]});case"VALIDATION_ERROR":return Object(y.a)({},e,{errors:t.errors});default:return Object(y.a)({},e,{input:""})}},notifications:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{notification:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_NOTIFICATION":return Object(y.a)({},e,{notification:t.notification});default:return e}}}),br=(vr()(),function(e){var t=[gr.a];return Object(h.e)(yr,e,Object(h.d)(h.a.apply(void 0,t)))}),Cr=(a(752),br()),_r=Object(c.syncHistoryWithStore)(s.browserHistory,Cr);Object(l.render)(i.a.createElement(o.a,{store:Cr},i.a.createElement(s.Router,{history:_r,routes:mr},i.a.createElement(s.Redirect,{from:"".concat("/admin","/"),to:"".concat("/admin","/pages/")}))),document.getElementById("root"))}},[[294,1,2]]]);
//# sourceMappingURL=main.2e88166c.chunk.js.map